import{_ as e,c as i,e as t,o as n}from"./app-DO9Fsueg.js";const g={};function r(o,a){return n(),i("div",null,a[0]||(a[0]=[t('<h2 id="oracle查询列长度太长" tabindex="-1"><a class="header-anchor" href="#oracle查询列长度太长"><span>oracle查询列长度太长</span></a></h2><p>查询的varchar的列字符串长度超过4000(取决与oracle怎么计算这个字符的长度)</p><p>例如：</p><p>col like &#39;%?%&#39;，如果这个like后面的字符串长度超过4000就会报错，其中包含了这个%%，中文会占用3个长度。</p><p>使用可视化页面执行会有其他不同的错误代码：可能是底层使用的数据库驱动不同</p><h3 id="ora-01460" tabindex="-1"><a class="header-anchor" href="#ora-01460"><span>ORA-01460</span></a></h3><p>org.springframework.orm.jpa.JpaSystemException: could not extract ResultSet; nested exception is org.hibernate.exception.GenericJDBCException: could not extract ResultSet</p><figure><img src="http://47.101.155.205/image-20240123142754994.png" alt="image-20240123142754994" tabindex="0" loading="lazy"><figcaption>image-20240123142754994</figcaption></figure><figure><img src="http://47.101.155.205/image-20240123150813620.png" alt="image-20240123150813620" tabindex="0" loading="lazy"><figcaption>image-20240123150813620</figcaption></figure><figure><img src="http://47.101.155.205/image-20240123151018341.png" alt="image-20240123151018341" tabindex="0" loading="lazy"><figcaption>image-20240123151018341</figcaption></figure><h3 id="ora-01489" tabindex="-1"><a class="header-anchor" href="#ora-01489"><span>ORA-01489</span></a></h3><p>列中使用||拼接字符串查询</p><figure><img src="http://47.101.155.205/image-20240123145415159.png" alt="image-20240123145415159" tabindex="0" loading="lazy"><figcaption>image-20240123145415159</figcaption></figure><figure><img src="http://47.101.155.205/image-20240123145624466.png" alt="image-20240123145624466" tabindex="0" loading="lazy"><figcaption>image-20240123145624466</figcaption></figure><figure><img src="http://47.101.155.205/image-20240123162438276.png" alt="image-20240123162438276" tabindex="0" loading="lazy"><figcaption>image-20240123162438276</figcaption></figure><h3 id="ora-01704" tabindex="-1"><a class="header-anchor" href="#ora-01704"><span>ORA-01704</span></a></h3><p>select length(&#39;?&#39;) from dual;使用可视化工具查询，length的结果中文算一个。</p><figure><img src="http://47.101.155.205/image-20240123150001769.png" alt="image-20240123150001769" tabindex="0" loading="lazy"><figcaption>image-20240123150001769</figcaption></figure><h2 id="sqlrecoverableexception" tabindex="-1"><a class="header-anchor" href="#sqlrecoverableexception"><span>SQLRecoverableException</span></a></h2><p>可恢复异常</p><h3 id="ora-17008-closed-connection" tabindex="-1"><a class="header-anchor" href="#ora-17008-closed-connection"><span>ORA-17008=Closed Connection</span></a></h3><p>可能原因：Oracle数据库或中间设备（防火墙、代理）设置了空闲连接超时，导致长时间未使用的连接被关闭。</p><p>如果是查询，不会抛出异常。可能会出现查询耗时很长的情况。</p><p><strong>这个问题可能是Druid连接池关闭连接异常导致。</strong></p><figure><img src="http://47.101.155.205/image-20250421133027640.png" alt="image-20250421133027640" tabindex="0" loading="lazy"><figcaption>image-20250421133027640</figcaption></figure><figure><img src="http://47.101.155.205/image-20250421133108418.png" alt="image-20250421133108418" tabindex="0" loading="lazy"><figcaption>image-20250421133108418</figcaption></figure><figure><img src="http://47.101.155.205/image-20250421133157598.png" alt="image-20250421133157598" tabindex="0" loading="lazy"><figcaption>image-20250421133157598</figcaption></figure><figure><img src="http://47.101.155.205/image-20250421133232391.png" alt="image-20250421133232391" tabindex="0" loading="lazy"><figcaption>image-20250421133232391</figcaption></figure><figure><img src="http://47.101.155.205/image-20250421133256721.png" alt="image-20250421133256721" tabindex="0" loading="lazy"><figcaption>image-20250421133256721</figcaption></figure><figure><img src="http://47.101.155.205/image-20250421132904221.png" alt="image-20250421132904221" tabindex="0" loading="lazy"><figcaption>image-20250421132904221</figcaption></figure>',30)]))}const c=e(g,[["render",r],["__file","Oracle-SQLErr.html.vue"]]),p=JSON.parse('{"path":"/database/Oracle-SQLErr.html","title":"","lang":"zh-CN","frontmatter":{},"headers":[{"level":2,"title":"oracle查询列长度太长","slug":"oracle查询列长度太长","link":"#oracle查询列长度太长","children":[{"level":3,"title":"ORA-01460","slug":"ora-01460","link":"#ora-01460","children":[]},{"level":3,"title":"ORA-01489","slug":"ora-01489","link":"#ora-01489","children":[]},{"level":3,"title":"ORA-01704","slug":"ora-01704","link":"#ora-01704","children":[]}]},{"level":2,"title":"SQLRecoverableException","slug":"sqlrecoverableexception","link":"#sqlrecoverableexception","children":[{"level":3,"title":"ORA-17008=Closed Connection","slug":"ora-17008-closed-connection","link":"#ora-17008-closed-connection","children":[]}]}],"git":{"updatedTime":1745227487000,"contributors":[{"name":"oycm","username":"oycm","email":"1164864987@qq.com","commits":1,"url":"https://github.com/oycm"},{"name":"ouyangcm","username":"ouyangcm","email":"mingorg@163.com","commits":1,"url":"https://github.com/ouyangcm"}]},"filePathRelative":"database/Oracle-SQLErr.md"}');export{c as comp,p as data};
