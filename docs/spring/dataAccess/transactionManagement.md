# 事物管理

Spring框架的事物管理提供以下优势：

1. 跨不同事物API的一致性编程模型，例如Java事物API(JTA)、JDBC、Hibernate、JPA(Java Persistence API)。
2. 支持声明式事物管理。
3. 更简单的编程式事物管理API。
4. 集成Spring data access抽象。



Spring框架的事物功能和技术描述介绍：

1. Spring框架事物支持模型(Spring框架的事物抽象)比EJB Container-Managed Transaction(CMT)或通过Hibernate驱动本地事物更具优势。(1.1)
2. 了解Spring框架事物的核心类，如何从各种来源获取和配置DataSource。(1.2)
3. 使用事物同步资源描述了应用程序代码如果使资源被正确地创建、复用、清理。1.3
4. 声明式事物。1.4
5. 编程式事物支持。1.5
6. 事物绑定事件描述了如何再事物中使用程序事件。1.7
7. 1.8集成
8. 1.9解决方案



## 1.Spring事物模型优势

传统上，Java EE开发有两种事物管理可选，全局或本地事物，两者都有局限性。



### 1.1.Global Transaction

全局事物管理允许使用多个事物资源，典型的关系型数据库和消息队列。服务端应用通过JTA使用全局事物管理，JTA是笨重的(部分是由于它的异常模型)。此外，JTA UserTransaction通常需要使用JNDI获取，意味着为了使用JTA必须使用JNDI。因为JTA通常仅在应用服务器环境可用，使用这个会限制代码的潜在可用性。

以前，使用全局事物的首选方式是EJB CMT(Container Managed Transaction)。CMT是声明式事物管理形式(与编程式事物管理不同)。尽管EJB CMT消除了与事物相关的JNDI查找需要，但是使用EJB本身需要JNDI。它消除了大部分编写java代码控制事物。和JTA一样，CMT需要应用服务器上使用。还需要选择EJB实现业务逻辑时，才可用。

应用服务器产品：JBoss、WebLogic、WebSphere。



### 1.2.Local Transaction

本地事物时特定于资源的，例如与JDBC连接关联的事物。本地事物可能更易于使用，但是有一明显的缺点：不能跨多个事物资源工作。例如，使用JDBC连接管理事物的代码不能再全局JTA事物中运行。因为应用服务器不参与事物管理，所以它无法帮助确保跨多个资源的正确性。另一个缺点时本地事物对编程模型具有侵入性。





### 1.3.Spring的一致性编程模型

解决了本地事物全局事物的缺点。允许开发者在不同的环境中使用一致性编程模型。提供了声明式事物管理和编程式事物管理。

模型怎么做的？怎么解决问题的？

