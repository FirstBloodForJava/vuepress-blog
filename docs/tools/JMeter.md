# JMeter

JMeter核心组件：线程组、取样器、逻辑控制器、前置处理器、后置处理器、断言、定时器、配置元件、监听器。

一个测试计划至少包含一个线程组。

一般一个线程组可看作一个虚拟用户组，其中每个用户模拟为一个虚拟用户。



## 组件

### 线程组

![image-20250603205911171](http://47.101.155.205/image-20250603205911171.png)



### 配置元件

配置元件用来设置JMeter脚本公用的信息，配置元件会作用影响访问的所有元件。

常用的配置元件有：

- HTTP请求默认值：配置HTTP请求url相关默认值。
- HTTP请求头管理器：配置公共HTTP请求头。
- CSV数据文件：csv文件配置参数。

![image-20250603211000263](http://47.101.155.205/image-20250603211000263.png)

![image-20250603211641210](http://47.101.155.205/image-20250603211641210.png)

![image-20250603212306438](http://47.101.155.205/image-20250603212306438.png)



#### 数据文件+请求头

使用CSV数据文件元件读取csv数据，将数据绑定到请求头。

![image-20250604211448826](http://47.101.155.205/image-20250604211448826.png)

![image-20250604211516966](http://47.101.155.205/image-20250604211516966.png)

![image-20250604211658932](http://47.101.155.205/image-20250604211658932.png)

### 监听器

- 查看结果树：可以观察请求和响应内容。
- 汇总报告：汇总请求情况。
- 聚合报告：聚合请求情况。



![image-20250603212904307](http://47.101.155.205/image-20250603212904307.png)

![image-20250603213200648](http://47.101.155.205/image-20250603213200648.png)

![image-20250603213526252](http://47.101.155.205/image-20250603213526252.png)



### 逻辑控制器

通过逻辑控制器来控制脚本的执行顺序。

- IF控制器：控制线程组的请求是否执行
- 仅一次控制器：常用于登录。
- 吞吐量控制器：控制请求执行次数和负载比例。

![image-20250603214246066](http://47.101.155.205/image-20250603214246066.png)

![image-20250603214327991](http://47.101.155.205/image-20250603214327991.png)

![image-20250603214640025](http://47.101.155.205/image-20250603214640025.png)



### 取样器

- HTTP请求：用来发起HTTP请求。

![image-20250603215024074](http://47.101.155.205/image-20250603215024074.png)



### 定时器

无论定时器的位置在取样器的之前还是之后，执行一个取样器之前，当前作用范围内的取样器都会被执行。

- 固定定时器：间隔发起下次请求。
- 固定吞吐量定时器：对每个接口的吞吐量设置上限。

![image-20250604193711397](http://47.101.155.205/image-20250604193711397.png)

![image-20250604194037983](http://47.101.155.205/image-20250604194037983.png)



### 前置处理器

在实际请求发出之前对发出的请求做特殊处理，前置处理可以对请求做一些操作，参数化、加密请求、替换请求字段等。

- BeanShell前置处理器：

![image-20250604194527265](http://47.101.155.205/image-20250604194527265.png)



### 后置处理器

对取样器发出请求后得到的服务器响应进行处理。

- 正则表达式处理器：
- BeanShell后置处理器：

![image-20250604195241039](http://47.101.155.205/image-20250604195241039.png)

![image-20250604195339734](http://47.101.155.205/image-20250604195339734.png)



### 断言

验证取样器请求的结果是否符合预期。、

- 响应断言：
- Size断言：
- BeanShell断言：

![image-20250604195807121](http://47.101.155.205/image-20250604195807121.png)

![image-20250604200012841](http://47.101.155.205/image-20250604200012841.png)

![image-20250604205037190](http://47.101.155.205/image-20250604205037190.png)



