<!doctype html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <meta name="generator" content="VuePress 2.0.0-rc.19" />
    <style>
      :root {
        --vp-c-bg: #fff;
      }

      [data-theme='dark'] {
        --vp-c-bg: #1b1b1f;
      }

      html,
      body {
        background-color: var(--vp-c-bg);
      }
    </style>
    <script>
      const userMode = localStorage.getItem('vuepress-color-scheme')
      const systemDarkMode =
        'matchMedia' in window
          ? window.matchMedia('(prefers-color-scheme: dark)').matches
          : false

      if (userMode === 'light') {
        document.documentElement.dataset.theme = 'light'
      } else if (userMode === 'dark' || systemDarkMode) {
        document.documentElement.dataset.theme = 'dark'
      }
    </script>
    <meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><title>Docker | VuePress</title><meta name="description" content="基于MarkDown文档使用VuePress搭建的博客">
    <link rel="preload" href="/vuepress-blog/assets/style-D-WmDmAb.css" as="style"><link rel="stylesheet" href="/vuepress-blog/assets/style-D-WmDmAb.css">
    <link rel="modulepreload" href="/vuepress-blog/assets/app-DO9Fsueg.js"><link rel="modulepreload" href="/vuepress-blog/assets/Docker.html-LTKOSr3R.js">
    <link rel="prefetch" href="/vuepress-blog/assets/index.html-CgVhTvye.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ErrorFile文件分析.html-CuB6Lnq0.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/JVM.html-BtUUS9Pr.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/JVM调优理论.html-DBID5eOn.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Java多线程理论.html-CBRTf5uA.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/垃圾收集器和内存分配策略.html-z-FpgxDX.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/虚拟机性能监控工具.html-Cq5K7pVg.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/EnumSet集合.html-auMW9YVh.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/IO.html-AvyPBQEI.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/JUC.html-CzUxv_Pn.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/JavaSE.html-DJRyxNaU.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/JavaWeb.html-ACOExpIh.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Java多线程使用.html-BUYuXRgk.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Java注解.html-B1LnzN5S.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Java进阶.html-jat1DMAL.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Netty.html-c7VNOxfH.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Reactor.html-cKJjLYIS.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/javaUtil.html-CfNdtUxb.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/networkModel.html-OCR-YMb0.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/recursion.html-DcyGA3Xt.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/divideAndConquer.html-BaAvuzQh.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/dp.html-B-EeH5B4.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/scala-algorithm.html-DRo4PTOJ.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/数据结构.html-CGRo_hSS.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/gradle.html-2c9c7723.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/gradle管理Java项目.html-B7g76hJp.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/maven.html-DxKyK8N2.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/maven项目切换gradle步骤.html-c1Y_l20r.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/DruidPoolProblem.html-DZYAzLg0.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/InfluxDB.html-DsdhiHOD.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/MongoDB.html-CxNK2iZF.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Mysql.html-BiJj5AZE.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Oracle-SQLErr.html-CRfrkdp9.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Oracle.html-4EKFKB4d.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ShardingSphere.html-Q-7uUH24.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Transactional.html-vApXhnic.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/seata.html-B8IU6IFF.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/JavaScript.html-CbYt5ETE.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/VSCode.html-B8f1liMb.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/css.html-0NLxhTS_.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/html.html-ybbo6GZM.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/nodejs.html-Buy9XCSx.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/vue.html-CmRM6eZ9.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Linux.html-BBLCfquW.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Linux进阶.html-DjZE2InM.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Redis.html-BXScl8xj.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/TCP.html-B94gSvYE.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/problem.html-CWvec0WR.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/shell语法.html-iTPSj5Vp.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ELK.html-HLvJvvSB.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Elasticsearch.html-C2wm_jil.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Logstash-8.15.html-B9cqj-9W.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/prometheus.html-7KxZbjQj.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ActiveMQ.html-BQO8QkIp.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/RabbitMQ.html-DleajACb.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/kafka.html-D-RfjmZX.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/nginx.html-DHZst6uR.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/nginx配置代理400.html-DjuDyiN5.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/nginx配置代理https请求步骤.html-BgCsPCQg.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Hadoop.html-vRDtCAkj.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Scala-Collection.html-xrlKDKkR.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Scala.html-y-wIhRq2.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/spark.html-TQz-28TE.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/DesignMode.html-C7RhC9cN.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/SpecialInterfaceFunction.html-C4AvaMM5.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Spring注解介绍.html-B3P0-N_X.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/logFramework.html-BCgd30fL.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/util.html-DJwkNW2j.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Micrometer.html-CTHrhx1u.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/SpringBoot-2.2.7.RELEASE.html-B2yYZFFW.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/spring-kafka.html-BuZ8tYZj.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/starter-actuator.html-BToIUEwp.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/starter-embedded.html-DpywyKsf.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/starter-web.html-Csiz2djH.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/AlibabaSentinel.html-v7HaMGAZ.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Dubbo.html-B6wCjZgK.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/SpringCloud.html-De7YP-j8.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/ZooKeeper.html-CYVLgcVW.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/nacos.html-GdTPk_Ec.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/spring-sleuth.html-xnzWZhiL.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/DDD.html-CRCki5wg.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/JMeter.html-BVccKwqN.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/WebService.html-Z61X4v8l.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/XXL-Job.html-DP50CjVJ.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/cron.html-DwqnmJBK.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/git.html-CZXv2_Vh.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/gitlab.html-BH60tmjP.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/uml.html-ozaggXxj.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/yaml.html-C9RVbdDw.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/vuepress使用介绍.html-BPLICjpR.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/DateBufferAndCodecs.html-pNZh2MeD.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/spring-core-AOP.html-3sMUwZ-4.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/spring-core-SpEL.html-CsiOTvJR.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/spring-core-ioc.html-BK5W5yLq.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/Dao.html-DJUynJSA.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/SpringDataJPA.html-CWHVdqiD.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/transactionManagement.html-C3uQ1hGE.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/SpringWebFlux.html-DGVHb9-o.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/WebClient.html-CPsdj9Kh.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/SpringMVC.html-B3rXwNBA.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/WebSocket.html-BvKH3j3Q.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/spring-cloud-gateway-core.html-Cx_gelJN.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/spring-cloud-gateway.html-gEstQ1Oo.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/spring-cloud-starter-netflix-zuul.html-DYfUOVuP.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/404.html-C7RfyDVO.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/index-DuqNHZ2Z.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/setupDevtools-7MC2TMWH-BhzL1irs.js" as="script">
  </head>
  <body>
    <div id="app"><!--[--><div class="vp-theme-container external-link-icon" vp-container><!--[--><header class="vp-navbar" vp-navbar><div class="vp-toggle-sidebar-button" title="toggle sidebar" aria-expanded="false" role="button" tabindex="0"><div class="icon" aria-hidden="true"><span></span><span></span><span></span></div></div><span><a class="route-link" href="/vuepress-blog/"><!----><span class="vp-site-name" aria-hidden="true">VuePress</span></a></span><div class="vp-navbar-items-wrapper" style=""><!--[--><!--]--><nav class="vp-navbar-items vp-hide-mobile" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/" aria-label="首页"><!---->首页<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="算法策略"><span class="title">算法策略</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="算法策略"><span class="title">算法策略</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/algorithmStrategy/recursion.html" aria-label="递归"><!---->递归<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/algorithmStrategy/divideAndConquer.html" aria-label="分治"><!---->分治<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/algorithmStrategy/dp.html" aria-label="动态规划"><!---->动态规划<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/algorithmStrategy/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html" aria-label="数据结构"><!---->数据结构<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/algorithmStrategy/scala-algorithm.html" aria-label="scala-algorithm"><!---->scala-algorithm<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="vue"><span class="title">vue</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="vue"><span class="title">vue</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>vuepress</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/frontEnd/vuepress/vuepress%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D.html" aria-label="vuepress使用介绍"><!---->vuepress使用介绍<!----></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/frontEnd/html.html" aria-label="html"><!---->html<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/frontEnd/css.html" aria-label="css"><!---->css<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/frontEnd/JavaScript.html" aria-label="JavaScript"><!---->JavaScript<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/frontEnd/VSCode.html" aria-label="VSCode"><!---->VSCode<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/frontEnd/vue.html" aria-label="vue"><!---->vue<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="nginx"><span class="title">nginx</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="nginx"><span class="title">nginx</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/nginx/nginx.html" aria-label="nginx"><!---->nginx<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/nginx/nginx%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86https%E8%AF%B7%E6%B1%82%E6%AD%A5%E9%AA%A4.html" aria-label="nginx配置代理https请求步骤"><!---->nginx配置代理https请求步骤<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/nginx/nginx%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86400.html" aria-label="nginx配置代理400"><!---->nginx配置代理400<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="监控"><span class="title">监控</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="监控"><span class="title">监控</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/monitoring/Elasticsearch.html" aria-label="Elasticsearch"><!---->Elasticsearch<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/monitoring/ELK.html" aria-label="ELK"><!---->ELK<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/monitoring/Logstash-8.15.html" aria-label="Logstash"><!---->Logstash<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/monitoring/prometheus.html" aria-label="prometheus"><!---->prometheus<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="JavaEE"><span class="title">JavaEE</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="JavaEE"><span class="title">JavaEE</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/JavaSE.html" aria-label="JavaSE"><!---->JavaSE<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/Java%E8%BF%9B%E9%98%B6.html" aria-label="进阶"><!---->进阶<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/JavaWeb.html" aria-label="JavaWeb"><!---->JavaWeb<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%BD%BF%E7%94%A8.html" aria-label="Java多线程使用"><!---->Java多线程使用<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/JUC.html" aria-label="JUC"><!---->JUC<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/EnumSet%E9%9B%86%E5%90%88.html" aria-label="EnumSet集合"><!---->EnumSet集合<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/Java%E6%B3%A8%E8%A7%A3.html" aria-label="Java注解"><!---->Java注解<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/javaUtil.html" aria-label="javaUtil"><!---->javaUtil<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/networkModel.html" aria-label="网络模型"><!---->网络模型<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/IO.html" aria-label="JavaIO"><!---->JavaIO<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/Netty.html" aria-label="Netty"><!---->Netty<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/Reactor.html" aria-label="Reactor"><!---->Reactor<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="构建工具"><span class="title">构建工具</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="构建工具"><span class="title">构建工具</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/build/maven.html" aria-label="maven"><!---->maven<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/vuepress-blog/build/Docker.html" aria-label="Docker"><!---->Docker<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/build/gradle.html" aria-label="gradle"><!---->gradle<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/build/gradle%E7%AE%A1%E7%90%86Java%E9%A1%B9%E7%9B%AE.html" aria-label="gradle管理Java项目"><!---->gradle管理Java项目<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/build/maven%E9%A1%B9%E7%9B%AE%E5%88%87%E6%8D%A2gradle%E6%AD%A5%E9%AA%A4.html" aria-label="maven项目切换gradle步骤"><!---->maven项目切换gradle步骤<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="JVM"><span class="title">JVM</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="JVM"><span class="title">JVM</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JVM/JVM.html" aria-label="JVM"><!---->JVM<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JVM/%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E5%92%8C%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5.html" aria-label="垃圾收集器和内存分配策略"><!---->垃圾收集器和内存分配策略<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JVM/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7.html" aria-label="虚拟机性能监控工具"><!---->虚拟机性能监控工具<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JVM/JVM%E8%B0%83%E4%BC%98%E7%90%86%E8%AE%BA.html" aria-label="JVM调优理论"><!---->JVM调优理论<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JVM/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%90%86%E8%AE%BA.html" aria-label="Java多线程理论"><!---->Java多线程理论<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JVM/ErrorFile%E6%96%87%E4%BB%B6%E5%88%86%E6%9E%90.html" aria-label="ErrorFile文件分析"><!---->ErrorFile文件分析<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="linux"><span class="title">linux</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="linux"><span class="title">linux</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/linux/Linux.html" aria-label="Linux"><!---->Linux<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/linux/shell%E8%AF%AD%E6%B3%95.html" aria-label="shell语法"><!---->shell语法<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/linux/TCP.html" aria-label="tcp"><!---->tcp<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/linux/Redis.html" aria-label="Redis"><!---->Redis<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/linux/Linux%E8%BF%9B%E9%98%B6.html" aria-label="Linux进阶"><!---->Linux进阶<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/linux/problem.html" aria-label="问题收集"><!---->问题收集<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="消息队列"><span class="title">消息队列</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="消息队列"><span class="title">消息队列</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/mq/RabbitMQ.html" aria-label="RabbitMQ"><!---->RabbitMQ<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/mq/ActiveMQ.html" aria-label="ActiveMQ"><!---->ActiveMQ<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/mq/kafka.html" aria-label="Kafka"><!---->Kafka<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="spring"><span class="title">spring</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="spring"><span class="title">spring</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spring/Spring%E6%B3%A8%E8%A7%A3%E4%BB%8B%E7%BB%8D.html" aria-label="Spring注解介绍"><!---->Spring注解介绍<!----></a></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>spring核心-5.2.6.RELEASE</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/core/spring-core-ioc.html" aria-label="IOC容器相关"><!---->IOC容器相关<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/core/spring-core-SpEL.html" aria-label="SpEL表达式"><!---->SpEL表达式<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/core/spring-core-AOP.html" aria-label="Spring AOP代理"><!---->Spring AOP代理<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/core/DateBufferAndCodecs.html" aria-label="数据缓冲区和编解码器"><!---->数据缓冲区和编解码器<!----></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>数据访问</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/dataAccess/transactionManagement.html" aria-label="事物管理"><!---->事物管理<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/dataAccess/Dao.html" aria-label="数据访问对象"><!---->数据访问对象<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/dataAccess/SpringDataJPA.html" aria-label="SpringDataJPA"><!---->SpringDataJPA<!----></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Servlet请求</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/webServlet/SpringMVC.html" aria-label="SpringMVC"><!---->SpringMVC<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/webServlet/WebSocket.html" aria-label="WebSocket"><!---->WebSocket<!----></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>响应式处理</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/webReactive/SpringWebFlux.html" aria-label="SpringWebFlux"><!---->SpringWebFlux<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/webReactive/WebClient.html" aria-label="响应式客户端"><!---->响应式客户端<!----></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spring/Spring%E6%B3%A8%E8%A7%A3%E4%BB%8B%E7%BB%8D.html" aria-label="Spring注解介绍"><!---->Spring注解介绍<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spring/logFramework.html" aria-label="日志框架"><!---->日志框架<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spring/SpecialInterfaceFunction.html" aria-label="Spring特殊接口"><!---->Spring特殊接口<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spring/DesignMode.html" aria-label="设计模式"><!---->设计模式<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spring/util.html" aria-label="工具类"><!---->工具类<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="springboot"><span class="title">springboot</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="springboot"><span class="title">springboot</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springboot/SpringBoot-2.2.7.RELEASE.html" aria-label="SpringBoot-2.2.7.RELEASE介绍"><!---->SpringBoot-2.2.7.RELEASE介绍<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springboot/starter-embedded.html" aria-label="嵌入式容器starter"><!---->嵌入式容器starter<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springboot/starter-web.html" aria-label="starter-web"><!---->starter-web<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springboot/spring-kafka.html" aria-label="springboot使用Kafka"><!---->springboot使用Kafka<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springboot/Micrometer.html" aria-label="Micrometer"><!---->Micrometer<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springboot/starter-actuator.html" aria-label="starter-actuator"><!---->starter-actuator<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="springcloud"><span class="title">springcloud</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="springcloud"><span class="title">springcloud</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springcloud/SpringCloud.html" aria-label="SpringCloud"><!---->SpringCloud<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springcloud/spring-sleuth.html" aria-label="spring-sleuth"><!---->spring-sleuth<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springcloud/AlibabaSentinel.html" aria-label="Sentinel"><!---->Sentinel<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springcloud/nacos.html" aria-label="Nacos"><!---->Nacos<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springcloud/ZooKeeper.html" aria-label="ZooKeeper"><!---->ZooKeeper<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springcloud/Dubbo.html" aria-label="Dubbo"><!---->Dubbo<!----></a></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>网关</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/springcloud/gateway/spring-cloud-gateway.html" aria-label="spring-cloud-gateway使用介绍"><!---->spring-cloud-gateway使用介绍<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/springcloud/gateway/spring-cloud-gateway-core.html" aria-label="gateway核心"><!---->gateway核心<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/springcloud/gateway/spring-cloud-starter-netflix-zuul.html" aria-label="zuul-1.x"><!---->zuul-1.x<!----></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="database"><span class="title">database</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="database"><span class="title">database</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/Mysql.html" aria-label="MySQL"><!---->MySQL<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/Oracle.html" aria-label="Oracle"><!---->Oracle<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/MongoDB.html" aria-label="MongoDB"><!---->MongoDB<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/InfluxDB.html" aria-label="InfluxDB"><!---->InfluxDB<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/Oracle-SQLErr.html" aria-label="Oracle执行错误代码"><!---->Oracle执行错误代码<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/ShardingSphere.html" aria-label="ShardingSphere"><!---->ShardingSphere<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/Transactional.html" aria-label="Spring事物控制"><!---->Spring事物控制<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/DruidPoolProblem.html" aria-label="DruidPoolProblem"><!---->DruidPoolProblem<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/seata.html" aria-label="seata"><!---->seata<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="其它"><span class="title">其它</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="其它"><span class="title">其它</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/cron.html" aria-label="cron表达式"><!---->cron表达式<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/uml.html" aria-label="UML介绍"><!---->UML介绍<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/JMeter.html" aria-label="JMeter"><!---->JMeter<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/XXL-Job.html" aria-label="XXL-Job"><!---->XXL-Job<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/DDD.html" aria-label="领域驱动设计"><!---->领域驱动设计<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/git.html" aria-label="git"><!---->git<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/WebService.html" aria-label="WebService"><!---->WebService<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="spark"><span class="title">spark</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="spark"><span class="title">spark</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spark/spark.html" aria-label="spark"><!---->spark<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spark/Scala.html" aria-label="Scala2/3"><!---->Scala2/3<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spark/Scala-Collection.html" aria-label="Scala-集合"><!---->Scala-集合<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><button type="button" class="vp-toggle-color-mode-button" title="toggle color mode"><svg class="light-icon" viewbox="0 0 32 32" style=""><path d="M16 12.005a4 4 0 1 1-4 4a4.005 4.005 0 0 1 4-4m0-2a6 6 0 1 0 6 6a6 6 0 0 0-6-6z" fill="currentColor"></path><path d="M5.394 6.813l1.414-1.415l3.506 3.506L8.9 10.318z" fill="currentColor"></path><path d="M2 15.005h5v2H2z" fill="currentColor"></path><path d="M5.394 25.197L8.9 21.691l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 25.005h2v5h-2z" fill="currentColor"></path><path d="M21.687 23.106l1.414-1.415l3.506 3.506l-1.414 1.414z" fill="currentColor"></path><path d="M25 15.005h5v2h-5z" fill="currentColor"></path><path d="M21.687 8.904l3.506-3.506l1.414 1.415l-3.506 3.505z" fill="currentColor"></path><path d="M15 2.005h2v5h-2z" fill="currentColor"></path></svg><svg class="dark-icon" viewbox="0 0 32 32" style="display:none;"><path d="M13.502 5.414a15.075 15.075 0 0 0 11.594 18.194a11.113 11.113 0 0 1-7.975 3.39c-.138 0-.278.005-.418 0a11.094 11.094 0 0 1-3.2-21.584M14.98 3a1.002 1.002 0 0 0-.175.016a13.096 13.096 0 0 0 1.825 25.981c.164.006.328 0 .49 0a13.072 13.072 0 0 0 10.703-5.555a1.01 1.01 0 0 0-.783-1.565A13.08 13.08 0 0 1 15.89 4.38A1.015 1.015 0 0 0 14.98 3z" fill="currentColor"></path></svg></button><!--[--><div id="docsearch-container" style="display:none;"></div><div><button type="button" class="DocSearch DocSearch-Button" aria-label="搜索文档"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">搜索文档</span></span><span class="DocSearch-Button-Keys"><kbd class="DocSearch-Button-Key"><svg width="15" height="15" class="DocSearch-Control-Key-Icon"><path d="M4.505 4.496h2M5.505 5.496v5M8.216 4.496l.055 5.993M10 7.5c.333.333.5.667.5 1v2M12.326 4.5v5.996M8.384 4.496c1.674 0 2.116 0 2.116 1.5s-.442 1.5-2.116 1.5M3.205 9.303c-.09.448-.277 1.21-1.241 1.203C1 10.5.5 9.513.5 8V7c0-1.57.5-2.5 1.464-2.494.964.006 1.134.598 1.24 1.342M12.553 10.5h1.953" stroke-width="1.2" stroke="currentColor" fill="none" stroke-linecap="square"></path></svg></kbd><kbd class="DocSearch-Button-Key">K</kbd></span></button></div><!--]--></div></header><!--]--><div class="vp-sidebar-mask"></div><!--[--><aside class="vp-sidebar" vp-sidebar><nav class="vp-navbar-items" aria-label="site navigation"><!--[--><div class="vp-navbar-item"><a class="route-link auto-link" href="/vuepress-blog/" aria-label="首页"><!---->首页<!----></a></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="算法策略"><span class="title">算法策略</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="算法策略"><span class="title">算法策略</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/algorithmStrategy/recursion.html" aria-label="递归"><!---->递归<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/algorithmStrategy/divideAndConquer.html" aria-label="分治"><!---->分治<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/algorithmStrategy/dp.html" aria-label="动态规划"><!---->动态规划<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/algorithmStrategy/%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84.html" aria-label="数据结构"><!---->数据结构<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/algorithmStrategy/scala-algorithm.html" aria-label="scala-algorithm"><!---->scala-algorithm<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="vue"><span class="title">vue</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="vue"><span class="title">vue</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>vuepress</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/frontEnd/vuepress/vuepress%E4%BD%BF%E7%94%A8%E4%BB%8B%E7%BB%8D.html" aria-label="vuepress使用介绍"><!---->vuepress使用介绍<!----></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/frontEnd/html.html" aria-label="html"><!---->html<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/frontEnd/css.html" aria-label="css"><!---->css<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/frontEnd/JavaScript.html" aria-label="JavaScript"><!---->JavaScript<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/frontEnd/VSCode.html" aria-label="VSCode"><!---->VSCode<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/frontEnd/vue.html" aria-label="vue"><!---->vue<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="nginx"><span class="title">nginx</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="nginx"><span class="title">nginx</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/nginx/nginx.html" aria-label="nginx"><!---->nginx<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/nginx/nginx%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86https%E8%AF%B7%E6%B1%82%E6%AD%A5%E9%AA%A4.html" aria-label="nginx配置代理https请求步骤"><!---->nginx配置代理https请求步骤<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/nginx/nginx%E9%85%8D%E7%BD%AE%E4%BB%A3%E7%90%86400.html" aria-label="nginx配置代理400"><!---->nginx配置代理400<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="监控"><span class="title">监控</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="监控"><span class="title">监控</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/monitoring/Elasticsearch.html" aria-label="Elasticsearch"><!---->Elasticsearch<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/monitoring/ELK.html" aria-label="ELK"><!---->ELK<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/monitoring/Logstash-8.15.html" aria-label="Logstash"><!---->Logstash<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/monitoring/prometheus.html" aria-label="prometheus"><!---->prometheus<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="JavaEE"><span class="title">JavaEE</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="JavaEE"><span class="title">JavaEE</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/JavaSE.html" aria-label="JavaSE"><!---->JavaSE<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/Java%E8%BF%9B%E9%98%B6.html" aria-label="进阶"><!---->进阶<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/JavaWeb.html" aria-label="JavaWeb"><!---->JavaWeb<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E4%BD%BF%E7%94%A8.html" aria-label="Java多线程使用"><!---->Java多线程使用<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/JUC.html" aria-label="JUC"><!---->JUC<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/EnumSet%E9%9B%86%E5%90%88.html" aria-label="EnumSet集合"><!---->EnumSet集合<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/Java%E6%B3%A8%E8%A7%A3.html" aria-label="Java注解"><!---->Java注解<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/javaUtil.html" aria-label="javaUtil"><!---->javaUtil<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/networkModel.html" aria-label="网络模型"><!---->网络模型<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/IO.html" aria-label="JavaIO"><!---->JavaIO<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/Netty.html" aria-label="Netty"><!---->Netty<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JavaEE/Reactor.html" aria-label="Reactor"><!---->Reactor<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="构建工具"><span class="title">构建工具</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="构建工具"><span class="title">构建工具</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/build/maven.html" aria-label="maven"><!---->maven<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link route-link-active auto-link" href="/vuepress-blog/build/Docker.html" aria-label="Docker"><!---->Docker<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/build/gradle.html" aria-label="gradle"><!---->gradle<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/build/gradle%E7%AE%A1%E7%90%86Java%E9%A1%B9%E7%9B%AE.html" aria-label="gradle管理Java项目"><!---->gradle管理Java项目<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/build/maven%E9%A1%B9%E7%9B%AE%E5%88%87%E6%8D%A2gradle%E6%AD%A5%E9%AA%A4.html" aria-label="maven项目切换gradle步骤"><!---->maven项目切换gradle步骤<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="JVM"><span class="title">JVM</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="JVM"><span class="title">JVM</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JVM/JVM.html" aria-label="JVM"><!---->JVM<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JVM/%E5%9E%83%E5%9C%BE%E6%94%B6%E9%9B%86%E5%99%A8%E5%92%8C%E5%86%85%E5%AD%98%E5%88%86%E9%85%8D%E7%AD%96%E7%95%A5.html" aria-label="垃圾收集器和内存分配策略"><!---->垃圾收集器和内存分配策略<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JVM/%E8%99%9A%E6%8B%9F%E6%9C%BA%E6%80%A7%E8%83%BD%E7%9B%91%E6%8E%A7%E5%B7%A5%E5%85%B7.html" aria-label="虚拟机性能监控工具"><!---->虚拟机性能监控工具<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JVM/JVM%E8%B0%83%E4%BC%98%E7%90%86%E8%AE%BA.html" aria-label="JVM调优理论"><!---->JVM调优理论<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JVM/Java%E5%A4%9A%E7%BA%BF%E7%A8%8B%E7%90%86%E8%AE%BA.html" aria-label="Java多线程理论"><!---->Java多线程理论<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/JVM/ErrorFile%E6%96%87%E4%BB%B6%E5%88%86%E6%9E%90.html" aria-label="ErrorFile文件分析"><!---->ErrorFile文件分析<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="linux"><span class="title">linux</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="linux"><span class="title">linux</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/linux/Linux.html" aria-label="Linux"><!---->Linux<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/linux/shell%E8%AF%AD%E6%B3%95.html" aria-label="shell语法"><!---->shell语法<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/linux/TCP.html" aria-label="tcp"><!---->tcp<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/linux/Redis.html" aria-label="Redis"><!---->Redis<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/linux/Linux%E8%BF%9B%E9%98%B6.html" aria-label="Linux进阶"><!---->Linux进阶<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/linux/problem.html" aria-label="问题收集"><!---->问题收集<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="消息队列"><span class="title">消息队列</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="消息队列"><span class="title">消息队列</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/mq/RabbitMQ.html" aria-label="RabbitMQ"><!---->RabbitMQ<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/mq/ActiveMQ.html" aria-label="ActiveMQ"><!---->ActiveMQ<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/mq/kafka.html" aria-label="Kafka"><!---->Kafka<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="spring"><span class="title">spring</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="spring"><span class="title">spring</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spring/Spring%E6%B3%A8%E8%A7%A3%E4%BB%8B%E7%BB%8D.html" aria-label="Spring注解介绍"><!---->Spring注解介绍<!----></a></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>spring核心-5.2.6.RELEASE</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/core/spring-core-ioc.html" aria-label="IOC容器相关"><!---->IOC容器相关<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/core/spring-core-SpEL.html" aria-label="SpEL表达式"><!---->SpEL表达式<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/core/spring-core-AOP.html" aria-label="Spring AOP代理"><!---->Spring AOP代理<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/core/DateBufferAndCodecs.html" aria-label="数据缓冲区和编解码器"><!---->数据缓冲区和编解码器<!----></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>数据访问</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/dataAccess/transactionManagement.html" aria-label="事物管理"><!---->事物管理<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/dataAccess/Dao.html" aria-label="数据访问对象"><!---->数据访问对象<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/dataAccess/SpringDataJPA.html" aria-label="SpringDataJPA"><!---->SpringDataJPA<!----></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>Servlet请求</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/webServlet/SpringMVC.html" aria-label="SpringMVC"><!---->SpringMVC<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/webServlet/WebSocket.html" aria-label="WebSocket"><!---->WebSocket<!----></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>响应式处理</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/webReactive/SpringWebFlux.html" aria-label="SpringWebFlux"><!---->SpringWebFlux<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/spring/webReactive/WebClient.html" aria-label="响应式客户端"><!---->响应式客户端<!----></a></li><!--]--></ul><!--]--></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spring/Spring%E6%B3%A8%E8%A7%A3%E4%BB%8B%E7%BB%8D.html" aria-label="Spring注解介绍"><!---->Spring注解介绍<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spring/logFramework.html" aria-label="日志框架"><!---->日志框架<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spring/SpecialInterfaceFunction.html" aria-label="Spring特殊接口"><!---->Spring特殊接口<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spring/DesignMode.html" aria-label="设计模式"><!---->设计模式<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spring/util.html" aria-label="工具类"><!---->工具类<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="springboot"><span class="title">springboot</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="springboot"><span class="title">springboot</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springboot/SpringBoot-2.2.7.RELEASE.html" aria-label="SpringBoot-2.2.7.RELEASE介绍"><!---->SpringBoot-2.2.7.RELEASE介绍<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springboot/starter-embedded.html" aria-label="嵌入式容器starter"><!---->嵌入式容器starter<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springboot/starter-web.html" aria-label="starter-web"><!---->starter-web<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springboot/spring-kafka.html" aria-label="springboot使用Kafka"><!---->springboot使用Kafka<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springboot/Micrometer.html" aria-label="Micrometer"><!---->Micrometer<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springboot/starter-actuator.html" aria-label="starter-actuator"><!---->starter-actuator<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="springcloud"><span class="title">springcloud</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="springcloud"><span class="title">springcloud</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springcloud/SpringCloud.html" aria-label="SpringCloud"><!---->SpringCloud<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springcloud/spring-sleuth.html" aria-label="spring-sleuth"><!---->spring-sleuth<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springcloud/AlibabaSentinel.html" aria-label="Sentinel"><!---->Sentinel<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springcloud/nacos.html" aria-label="Nacos"><!---->Nacos<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springcloud/ZooKeeper.html" aria-label="ZooKeeper"><!---->ZooKeeper<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/springcloud/Dubbo.html" aria-label="Dubbo"><!---->Dubbo<!----></a></li><li class="vp-navbar-dropdown-item"><!--[--><h4 class="vp-navbar-dropdown-subtitle"><span>网关</span></h4><ul class="vp-navbar-dropdown-subitem-wrapper"><!--[--><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/springcloud/gateway/spring-cloud-gateway.html" aria-label="spring-cloud-gateway使用介绍"><!---->spring-cloud-gateway使用介绍<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/springcloud/gateway/spring-cloud-gateway-core.html" aria-label="gateway核心"><!---->gateway核心<!----></a></li><li class="vp-navbar-dropdown-subitem"><a class="route-link auto-link" href="/vuepress-blog/springcloud/gateway/spring-cloud-starter-netflix-zuul.html" aria-label="zuul-1.x"><!---->zuul-1.x<!----></a></li><!--]--></ul><!--]--></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="database"><span class="title">database</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="database"><span class="title">database</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/Mysql.html" aria-label="MySQL"><!---->MySQL<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/Oracle.html" aria-label="Oracle"><!---->Oracle<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/MongoDB.html" aria-label="MongoDB"><!---->MongoDB<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/InfluxDB.html" aria-label="InfluxDB"><!---->InfluxDB<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/Oracle-SQLErr.html" aria-label="Oracle执行错误代码"><!---->Oracle执行错误代码<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/ShardingSphere.html" aria-label="ShardingSphere"><!---->ShardingSphere<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/Transactional.html" aria-label="Spring事物控制"><!---->Spring事物控制<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/DruidPoolProblem.html" aria-label="DruidPoolProblem"><!---->DruidPoolProblem<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/database/seata.html" aria-label="seata"><!---->seata<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="其它"><span class="title">其它</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="其它"><span class="title">其它</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/cron.html" aria-label="cron表达式"><!---->cron表达式<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/uml.html" aria-label="UML介绍"><!---->UML介绍<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/JMeter.html" aria-label="JMeter"><!---->JMeter<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/XXL-Job.html" aria-label="XXL-Job"><!---->XXL-Job<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/DDD.html" aria-label="领域驱动设计"><!---->领域驱动设计<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/git.html" aria-label="git"><!---->git<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/tools/WebService.html" aria-label="WebService"><!---->WebService<!----></a></li><!--]--></ul></div></div><div class="vp-navbar-item"><div class="vp-navbar-dropdown-wrapper"><button class="vp-navbar-dropdown-title" type="button" aria-label="spark"><span class="title">spark</span><span class="arrow down"></span></button><button class="vp-navbar-dropdown-title-mobile" type="button" aria-label="spark"><span class="title">spark</span><span class="right arrow"></span></button><ul style="display:none;" class="vp-navbar-dropdown"><!--[--><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spark/spark.html" aria-label="spark"><!---->spark<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spark/Scala.html" aria-label="Scala2/3"><!---->Scala2/3<!----></a></li><li class="vp-navbar-dropdown-item"><a class="route-link auto-link" href="/vuepress-blog/spark/Scala-Collection.html" aria-label="Scala-集合"><!---->Scala-集合<!----></a></li><!--]--></ul></div></div><!--]--></nav><!--[--><!--]--><ul class="vp-sidebar-items"><!--[--><li><p tabindex="0" class="vp-sidebar-item vp-sidebar-heading">Docker <!----></p><!----></li><!--]--></ul><!--[--><!--]--></aside><!--]--><!--[--><main class="vp-page"><!--[--><!--]--><div vp-content><!--[--><!--]--><div><h1 id="docker" tabindex="-1"><a class="header-anchor" href="#docker"><span>Docker</span></a></h1><h2 id="docker介绍" tabindex="-1"><a class="header-anchor" href="#docker介绍"><span>Docker介绍</span></a></h2><h3 id="什么是docker" tabindex="-1"><a class="header-anchor" href="#什么是docker"><span>什么是Docker</span></a></h3><p>Docker 是一个开源的应用容器引擎，让开发者可以打包他们的应用以及依赖包到一个可移植的容器中,然后发布到任何流行的Linux或Windows操作系统的机器上,也可以实现虚拟化,容器是完全使用沙箱机制,相互之间不会有任何接口。</p><h3 id="docker组成部分" tabindex="-1"><a class="header-anchor" href="#docker组成部分"><span>Docker组成部分</span></a></h3><ol><li>DockerClient客户端</li><li>DockerDaemon守护进程</li><li>DockerImage镜像</li><li>DockerContainer容器</li></ol><h3 id="docker架构" tabindex="-1"><a class="header-anchor" href="#docker架构"><span>Docker架构</span></a></h3><p>Docker使用客户端-服务器 (C/S) 架构模式，使用远程API来管理和创建Docker容器。Docker 容器通过 Docker 镜像来创建。容器与镜像的关系类似于面向对象编程中的对象与类。</p><p>Docker采用C/S架构Docker daemon作为服务端接受来自客户的请求，并处理这些请求（创建、运行、分发容器）。客户端和服务端既可以运行在一个机器上，也可通过 socket 或者RESTful API 来进行通信。</p><p>Docker daemon一般在宿主主机后台运行，等待接收来自客户端的消息。 Docker客户端则为用户提供一系列可执行命令，用户用这些命令实现跟 Docker daemon 交互。</p><figure><img src="http://47.101.155.205/image-20220613164830672.png" alt="image-20220613164830672" tabindex="0" loading="lazy"><figcaption>image-20220613164830672</figcaption></figure><h2 id="docker安装" tabindex="-1"><a class="header-anchor" href="#docker安装"><span>Docker安装</span></a></h2><p>官网：https://www.docker.com/</p><p>安装文档：https://docs.docker.com/engine/install/centos/</p><p>购买的阿里云服务器使用的Alibaba Cloud Linux。Alibaba Cloud Linux是阿里云基于龙蜥社区（OpenAnolis）的龙蜥操作系统（Anolis OS）打造的操作系统发行版，在全面兼容RHEL/CentOS生态的同时，为云上应用程序提供安全、稳定、高性能的定制化运行环境，并针对云基础设施进行了深度优化，为您打造更好的云上操作系统体验。目前发行版本为Alibaba Cloud Linux 2与Alibaba Cloud Linux 3。</p><blockquote><p>卸载旧版本</p></blockquote><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> yum remove <span class="token function">docker</span> <span class="token punctuation">\</span></span>
<span class="line">				docker-client <span class="token punctuation">\</span></span>
<span class="line">				docker-client-latest <span class="token punctuation">\</span></span>
<span class="line">				docker-common <span class="token punctuation">\</span></span>
<span class="line">				docker-latest <span class="token punctuation">\</span></span>
<span class="line">				docker-latest-logrotate <span class="token punctuation">\</span></span>
<span class="line">				docker-logrotate <span class="token punctuation">\</span></span>
<span class="line">				docker-engine</span>
<span class="line"></span></code></pre></div><blockquote><p>Docker有三种安装方式</p></blockquote><h3 id="_1、docker存储库方式安装" tabindex="-1"><a class="header-anchor" href="#_1、docker存储库方式安装"><span>1、Docker存储库方式安装</span></a></h3><ol><li><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 安装所需的依赖</span></span>
<span class="line"><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils</span>
<span class="line"></span></code></pre></div></li><li><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 设置存储库</span></span>
<span class="line"><span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span></span>
<span class="line">    --add-repo <span class="token punctuation">\</span></span>
<span class="line">    https://download.docker.com/linux/centos/docker-ce.repo</span>
<span class="line">    </span>
<span class="line"><span class="token comment">#阿里云</span></span>
<span class="line"><span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span></span>
<span class="line">    --add-repo <span class="token punctuation">\</span></span>
<span class="line">    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span>
<span class="line"><span class="token comment">#清华大学</span></span>
<span class="line"><span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span></span>
<span class="line">    --add-repo <span class="token punctuation">\</span></span>
<span class="line">    https://mirrors.tuna.tsinghua.edu.cn/docker-ce/linux/centos/docker-ce.repo</span>
<span class="line">    </span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 安装最新docker引擎</span></span>
<span class="line"><span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io docker-compose-plugin</span>
<span class="line"></span>
<span class="line"></span></code></pre></div></li></ol><figure><img src="http://47.101.155.205/image-20220613171055088.png" alt="image-20220613171055088" tabindex="0" loading="lazy"><figcaption>image-20220613171055088</figcaption></figure><figure><img src="http://47.101.155.205/image-20220613171450549.png" alt="image-20220613171450549" tabindex="0" loading="lazy"><figcaption>image-20220613171450549</figcaption></figure><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> yum <span class="token function">install</span> <span class="token parameter variable">-y</span> yum-utils</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 阿里云存储库</span></span>
<span class="line"><span class="token function">sudo</span> yum-config-manager <span class="token punctuation">\</span></span>
<span class="line">    --add-repo <span class="token punctuation">\</span></span>
<span class="line">    http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 安装最新docker引擎</span></span>
<span class="line"><span class="token function">sudo</span> yum <span class="token function">install</span> docker-ce docker-ce-cli containerd.io docker-compose-plugin</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="http://47.101.155.205/image-20250207135730736.png" alt="image-20250207135730736" tabindex="0" loading="lazy"><figcaption>image-20250207135730736</figcaption></figure><h3 id="_2、rpm包安装" tabindex="-1"><a class="header-anchor" href="#_2、rpm包安装"><span>2、rpm包安装</span></a></h3><ol><li><p>下载地址：https://download.docker.com/linux/centos/</p></li><li><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> yum <span class="token function">install</span> /path/to/package.rpm</span>
<span class="line"></span></code></pre></div></li></ol><h3 id="_3、脚本安装" tabindex="-1"><a class="header-anchor" href="#_3、脚本安装"><span>3、脚本安装</span></a></h3><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">curl</span> <span class="token parameter variable">-fsSL</span> https://get.docker.com <span class="token parameter variable">-o</span> get-docker.sh</span>
<span class="line"><span class="token assign-left variable">DRY_RUN</span><span class="token operator">=</span><span class="token number">1</span> <span class="token function">sh</span> ./get-docker.sh</span>
<span class="line"></span></code></pre></div><h3 id="阿里云文档" tabindex="-1"><a class="header-anchor" href="#阿里云文档"><span>阿里云文档</span></a></h3><p>https://help.aliyun.com/zh/ecs/use-cases/install-and-use-docker?spm=5176.21213303.J_qCOwPWspKEuWcmp8qiZNQ.1.4c662f3dxQyFF5&amp;scm=20140722.S_help@@%E6%96%87%E6%A1%A3@@51853._.ID_help@@%E6%96%87%E6%A1%A3@@51853-RL_docker%E5%AE%89%E8%A3%85-LOC_new~UND~search-OR_ser-PAR1_213e362217389107648674175e1c73-V_4-RE_new3-P0_0-P1_0-title#940c78642dmq9</p><h4 id="centos7-x" tabindex="-1"><a class="header-anchor" href="#centos7-x"><span>centos7.x</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 添加Docker软件包源</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">wget</span> <span class="token parameter variable">-O</span> /etc/yum.repos.d/docker-ce.repo http://mirrors.cloud.aliyuncs.com/docker-ce/linux/centos/docker-ce.repo</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&#39;s|https://mirrors.aliyun.com|http://mirrors.cloud.aliyuncs.com|g&#39;</span> /etc/yum.repos.d/docker-ce.repo</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 安装Docker社区版本，容器运行时containerd.io，以及Docker构建和Compose插件</span></span>
<span class="line"><span class="token function">sudo</span> yum <span class="token parameter variable">-y</span> <span class="token function">install</span> docker-ce docker-ce-cli containerd.io docker-buildx-plugin docker-compose-plugin</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 启动Docker</span></span>
<span class="line"><span class="token function">sudo</span> systemctl start <span class="token function">docker</span></span>
<span class="line"><span class="token comment">#设置Docker守护进程在系统启动时自动启动</span></span>
<span class="line"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="启动测试" tabindex="-1"><a class="header-anchor" href="#启动测试"><span>启动测试</span></a></h3><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 启动docker引擎</span></span>
<span class="line">systemctl start <span class="token function">docker</span></span>
<span class="line"><span class="token comment"># 运行hello-world镜像</span></span>
<span class="line"><span class="token function">docker</span> run hello-world</span>
<span class="line"><span class="token comment"># 关闭docker引擎</span></span>
<span class="line">systemctl stop <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><figure><img src="http://47.101.155.205/image-20220613173157559.png" alt="image-20220613173157559" tabindex="0" loading="lazy"><figcaption>image-20220613173157559</figcaption></figure><h3 id="卸载docker" tabindex="-1"><a class="header-anchor" href="#卸载docker"><span>卸载Docker</span></a></h3><p>卸载Docker引擎、Docker客户端、容器、compose安装包</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> yum remove docker-ce docker-ce-cli containerd.io docker-compose-plugin</span>
<span class="line"></span></code></pre></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment">#删除自定义的配置文件</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/docker</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> /var/lib/containerd</span>
<span class="line"></span></code></pre></div><h4 id="centos7-x-1" tabindex="-1"><a class="header-anchor" href="#centos7-x-1"><span>centos7.x</span></a></h4><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 删除Docker相关源</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> /etc/yum.repos.d/docker*.repo</span>
<span class="line"><span class="token comment"># 卸载旧版本的Docker和相关的软件包</span></span>
<span class="line"><span class="token function">sudo</span> yum <span class="token parameter variable">-y</span> remove <span class="token punctuation">\</span></span>
<span class="line">docker-ce <span class="token punctuation">\</span></span>
<span class="line">containerd.io <span class="token punctuation">\</span></span>
<span class="line">docker-ce-rootless-extras <span class="token punctuation">\</span></span>
<span class="line">docker-buildx-plugin <span class="token punctuation">\</span></span>
<span class="line">docker-ce-cli <span class="token punctuation">\</span></span>
<span class="line">docker-compose-plugin</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="docker-client命令" tabindex="-1"><a class="header-anchor" href="#docker-client命令"><span>Docker-Client命令</span></a></h2><p>官网地址：https://docs.docker.com/engine/reference/commandline/dockerd/</p><h3 id="_1、docker命令" tabindex="-1"><a class="header-anchor" href="#_1、docker命令"><span>1、Docker命令</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment">#启动docker服务</span></span>
<span class="line">systemctl start <span class="token function">docker</span></span>
<span class="line"><span class="token comment">#关闭docker服务</span></span>
<span class="line">systemctl stop <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 搜索镜像名的镜像</span></span>
<span class="line"><span class="token function">docker</span> search <span class="token operator">&lt;</span>iamge-name<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 以镜像centos创建容器启动</span></span>
<span class="line"><span class="token function">docker</span> run centos </span>
<span class="line"><span class="token comment"># 查看运行容器的资源使用情况</span></span>
<span class="line"><span class="token function">docker</span> stats</span>
<span class="line"><span class="token comment">#查看正在运行的容器</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">ps</span></span>
<span class="line"><span class="token comment"># 查看所有容器(包括刚刚运行的容器),-n num最后几条，-l最后一条，-q只显示容器id</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span></span>
<span class="line"><span class="token comment"># 查看容器日志</span></span>
<span class="line"><span class="token function">docker</span> logs <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>contain-name<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><figure><img src="http://47.101.155.205/image-20220613231214371.png" alt="image-20220613231214371" tabindex="0" loading="lazy"><figcaption>image-20220613231214371</figcaption></figure><table><thead><tr><th>属性名</th><th>描述</th></tr></thead><tbody><tr><td>CONTAINER ID</td><td>容器的id</td></tr><tr><td>IMAGE</td><td>使用的镜像</td></tr><tr><td>COMMAND</td><td>启动容器时运行的命令</td></tr><tr><td>CREATED</td><td>容器创建的时间</td></tr><tr><td>STATUS</td><td>容器的状态</td></tr><tr><td>PORTS</td><td>容器的端口信息和使用的连接类型(tcp\udp)</td></tr><tr><td>NAMES</td><td>自动分配的容器名称(可以指定)</td></tr></tbody></table><p>STATUS-容器的7种状态：</p><ol><li>created（已创建）</li><li>restarting（重启中）</li><li>running 或 Up（运行中）</li><li>removing（迁移中）</li><li>paused（暂停）</li><li>exited（停止）</li><li>dead（死亡）</li></ol><h3 id="_2、镜像命令" tabindex="-1"><a class="header-anchor" href="#_2、镜像命令"><span>2、镜像命令</span></a></h3><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment">#查看当前docker的镜像</span></span>
<span class="line"><span class="token function">docker</span> images</span>
<span class="line"></span>
<span class="line"></span></code></pre></div><figure><img src="http://47.101.155.205/image-20220614003744012.png" alt="image-20220614003744012" tabindex="0" loading="lazy"><figcaption>image-20220614003744012</figcaption></figure><table><thead><tr><th>属性名</th><th>属性描述</th></tr></thead><tbody><tr><td>REPOSITORY</td><td>镜像的仓库源</td></tr><tr><td>TAG</td><td>镜像的标签</td></tr><tr><td>IMAGE ID</td><td>镜像的id</td></tr><tr><td>CARATED</td><td>镜像创建的时间</td></tr><tr><td>SIZE</td><td>镜像的大小</td></tr></tbody></table><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment">#从远程拉取镜像，没有tag默认时latest标签的镜像</span></span>
<span class="line"><span class="token function">docker</span> pull <span class="token operator">&lt;</span>image-name<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 拉去指定版本的远程镜像</span></span>
<span class="line">docket pull mysql:5.7 </span>
<span class="line"></span>
<span class="line"></span></code></pre></div><figure><img src="http://47.101.155.205/image-20220613233508598.png" alt="image-20220613233508598" tabindex="0" loading="lazy"><figcaption>image-20220613233508598</figcaption></figure><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 镜像查询</span></span>
<span class="line"><span class="token function">docker</span> search <span class="token operator">&lt;</span>image-name<span class="token operator">&gt;</span></span>
<span class="line"><span class="token function">docker</span> search httpd</span>
<span class="line"></span>
<span class="line"></span></code></pre></div><figure><img src="http://47.101.155.205/image-20220614004551416.png" alt="image-20220614004551416" tabindex="0" loading="lazy"><figcaption>image-20220614004551416</figcaption></figure><table><thead><tr><th>属性名</th><th>属性描述</th></tr></thead><tbody><tr><td>NAME</td><td>镜像仓库源的名称</td></tr><tr><td>DESCRIPTION</td><td>镜像的描述</td></tr><tr><td>STARS</td><td>点赞收藏的数量</td></tr><tr><td>OFFICIAL</td><td>是否Docker官方发布</td></tr><tr><td>AUTOMATED</td><td>自动构建</td></tr></tbody></table><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 删除镜像</span></span>
<span class="line"><span class="token function">docker</span> rmi <span class="token operator">&lt;</span>image-name<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h4 id="创建镜像方式一" tabindex="-1"><a class="header-anchor" href="#创建镜像方式一"><span>创建镜像方式一</span></a></h4><p>从容器中创建镜像，需要容器的id。也可以在之前的容器中执行apt-get update一些更新命令后创建容器。</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> commit <span class="token punctuation">[</span>-m <span class="token parameter variable">-a</span> <span class="token punctuation">..</span>.<span class="token punctuation">]</span> <span class="token operator">&lt;</span>container-id<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>image-name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>tag<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># -m 提交的描述</span></span>
<span class="line"><span class="token comment"># -a 镜像的作者 id 创建的目标镜像名</span></span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> commit <span class="token parameter variable">-m</span><span class="token operator">=</span><span class="token string">&quot;has update&quot;</span> <span class="token parameter variable">-a</span><span class="token operator">=</span><span class="token string">&quot;runoob&quot;</span> e218edb10161 runoob/ubuntu:v2</span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> commit <span class="token parameter variable">-m</span><span class="token operator">=</span><span class="token string">&quot;描述&quot;</span> <span class="token parameter variable">-a</span><span class="token operator">=</span><span class="token string">&quot;作者&quot;</span> container的id image的名字</span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h4 id="创建镜像方式二" tabindex="-1"><a class="header-anchor" href="#创建镜像方式二"><span>创建镜像方式二</span></a></h4><p>通过Dockerfile文件创建镜像。Dockerfile文件内容语法：</p><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker" data-title="docker"><pre><code><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> 		#镜像从哪里来</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">MAINTAINER</span> 	#镜像是谁创建的</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> 		#构建镜像执行的命令，每一次RUN都会构建一层，在docker build执行</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">VOLUME</span>		#定义数据卷，没有定义使用默认的</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">USER</span> 		#指定后续执行的用户组和用户</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> 	#切换当前工作的执行目录</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span>		#暴露端口</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span>			#添加文件，如果是URL或压缩包便会自动下载或自动解压</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">COPY</span>		#添加文件以复制的形式，跟ADD类似，但不具备自动下载或解压的功能</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span>			#容器启动的命令，有多个以最后一个为准。启动容器时传递参数替换原来的命令。docker run执行</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENTRYPOINT</span>	#容器启动时执行的命令,启动容器时传递参数追加</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span>			#设置容器环境变量，键值对</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">LABEL</span>		#给镜像添加一些元数据(metadata)，以键值对的形式</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> <span class="token operator">&lt;</span>image-name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>tag<span class="token operator">&gt;</span> <span class="token builtin class-name">.</span></span>
<span class="line"><span class="token comment"># -t 指定要创建的目标镜像名,不指定版本,默认是最新的镜像</span></span>
<span class="line"><span class="token comment"># . 表示从当前目录寻找Dockerfile文件,可以指定Dockerfile的绝对路径</span></span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> runoob/centos:6.7 <span class="token builtin class-name">.</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 设置镜像标签(版本)</span></span>
<span class="line"><span class="token function">docker</span> tag <span class="token operator">&lt;</span>image-id<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>image-name<span class="token operator">&gt;</span>:<span class="token operator">&lt;</span>tag<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h3 id="_3、容器命令" tabindex="-1"><a class="header-anchor" href="#_3、容器命令"><span>3、容器命令</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 以镜像创建容器启动</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token punctuation">[</span>option<span class="token punctuation">]</span> <span class="token operator">&lt;</span>image-name<span class="token operator">&gt;</span> <span class="token punctuation">[</span>command<span class="token punctuation">]</span> <span class="token punctuation">[</span>args<span class="token punctuation">]</span></span>
<span class="line"><span class="token comment"># -d(--detach) 后台持续运行</span></span>
<span class="line"><span class="token comment"># -it -i交互式操作，-t终端</span></span>
<span class="line"><span class="token comment"># -p &lt;主机端口&gt;:&lt;容器端口&gt; 将容器的端口映射到主机端口</span></span>
<span class="line"><span class="token comment"># -P 随机映射端口</span></span>
<span class="line"><span class="token comment"># --name &lt;name&gt; 容器的名称</span></span>
<span class="line"><span class="token comment"># -v 将主机的目录挂载到容器内部的文件或目录</span></span>
<span class="line"><span class="token comment"># --restart no(不重启) always(总是)</span></span>
<span class="line"><span class="token comment"># -e 环境变量设置</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token punctuation">[</span>option<span class="token punctuation">]</span> <span class="token operator">&lt;</span>image-name<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 以交互式启动centos镜像的容器，exit之后，容器也退出</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> centos /bin/bash</span>
<span class="line"><span class="token comment"># 以后台模式运行容器，如果容器中没有可执行的命令，容器就会自动关闭</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> centos /bin/bash</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> centos /bin/sh <span class="token parameter variable">-c</span> <span class="token string">&quot;while true; do echo hello world;sleep 1;done&quot;</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-itd</span> centos /bin/bash</span>
<span class="line"><span class="token comment"># 容器内部的5000端口映射到我们本地主机的 5000 端口上</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">5000</span>:5000 training/webapp python app.py</span>
<span class="line"><span class="token comment"># 随机映射端口号</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-P</span> training/webapp python app.py </span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重启容器</span></span>
<span class="line"><span class="token function">docker</span> restart <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span> </span>
<span class="line"></span>
<span class="line"><span class="token comment">#关闭容器，会暂时卡顿一下</span></span>
<span class="line"><span class="token function">docker</span> stop <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>contain-name<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 启动已经创建的容器</span></span>
<span class="line"><span class="token function">docker</span> start <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment">#进入容器</span></span>
<span class="line"><span class="token function">docker</span> attach <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span> </span>
<span class="line"></span>
<span class="line"><span class="token comment"># exec进入容器，退出不会关闭容器</span></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token punctuation">[</span>option<span class="token punctuation">]</span> <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>bash<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 交互式进入容器</span></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span>  /bin/bash</span>
<span class="line"><span class="token comment"># 非交互式进入容器,只执行一个命令</span></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span> <span class="token function">cat</span> txt.log</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment">#导入导出容器</span></span>
<span class="line"><span class="token comment">#导出容器快照到本地tar文件</span></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">export</span> <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span> <span class="token operator">&gt;</span> <span class="token operator">&lt;</span>tar.file<span class="token operator">&gt;</span></span>
<span class="line"><span class="token comment"># 在当前路径下生成了一个my-hello-world.tar的文件</span></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">export</span> 19310fb32b6b <span class="token operator">&gt;</span> my-hello-world.tar</span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 将快照文件ubuntu.tar导入到镜像test/ubuntu:v1</span></span>
<span class="line"><span class="token function">cat</span> docker/ubuntu.tar <span class="token operator">|</span> <span class="token function">docker</span> <span class="token function">import</span> - test/ubuntu:v1</span>
<span class="line"><span class="token comment"># 将my-hello-world.tar快照文件导入成my-hello-world名的镜像</span></span>
<span class="line"><span class="token function">cat</span> my-hello-world.tar <span class="token operator">|</span> <span class="token function">docker</span> <span class="token function">import</span> - my-hello-world</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment">#删除容器</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">rm</span> <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span> <span class="token comment">#不能删除正在运行的容器</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span> <span class="token comment">#强制删除容器(包括正在运行的容器)</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token punctuation">(</span>docker <span class="token function">ps</span> -aq<span class="token punctuation">)</span> <span class="token comment">#删除所有的容器</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment">#查看端口映射情况</span></span>
<span class="line"><span class="token function">docker</span> port <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>contain-name<span class="token operator">&gt;</span></span>
<span class="line"></span></code></pre></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment">#查看容器启动的进程信息</span></span>
<span class="line"><span class="token function">docker</span> <span class="token function">top</span> <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>contain-name<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment">#查看容器配置信息</span></span>
<span class="line"><span class="token function">docker</span> inspect <span class="token operator">&lt;</span>contain-id<span class="token operator">&gt;</span>/<span class="token operator">&lt;</span>contain-name<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><h2 id="镜像" tabindex="-1"><a class="header-anchor" href="#镜像"><span>镜像</span></a></h2><p>查找镜像官网：https://hub.docker.com/</p><h3 id="阿里云镜像加速器-不维护" tabindex="-1"><a class="header-anchor" href="#阿里云镜像加速器-不维护"><span>阿里云镜像加速器(不维护)</span></a></h3><p>https://developer.aliyun.com/article/1025496?spm=5176.21213303.J_qCOwPWspKEuWcmp8qiZNQ.60.6b092f3dCsrhjp&amp;scm=20140722.S_community</p><p>进入到阿里云的控制台 &gt; 搜索镜像&gt; 选择容器镜像服务</p><figure><img src="http://47.101.155.205/image-20250207143005007.png" alt="image-20250207143005007" tabindex="0" loading="lazy"><figcaption>image-20250207143005007</figcaption></figure><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 目录不存在则创建目录</span></span>
<span class="line"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> /etc/docker</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 填写对应的镜像地址https://mtkxslk5.mirror.aliyuncs.com</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;</span>
<span class="line">{</span>
<span class="line">  &quot;registry-mirrors&quot;: [&quot;https://mtkxslk5.mirror.aliyuncs.com&quot;]</span>
<span class="line">}</span>
<span class="line">EOF</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重新加载配置</span></span>
<span class="line"><span class="token function">sudo</span> systemctl daemon-reload</span>
<span class="line"><span class="token comment"># 重启</span></span>
<span class="line"><span class="token function">sudo</span> systemctl restart <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="配置镜像源" tabindex="-1"><a class="header-anchor" href="#配置镜像源"><span>配置镜像源</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">tee</span> /etc/docker/daemon.json <span class="token operator">&lt;&lt;-</span><span class="token string">&#39;EOF&#39;</span>
<span class="line">{</span>
<span class="line">    &quot;registry-mirrors&quot;: [</span>
<span class="line">        &quot;https://docker.hpcloud.cloud&quot;,</span>
<span class="line">        &quot;https://docker.m.daocloud.io&quot;,</span>
<span class="line">        &quot;https://docker.unsee.tech&quot;,</span>
<span class="line">        &quot;https://docker.1panel.live&quot;,</span>
<span class="line">        &quot;http://mirrors.ustc.edu.cn&quot;,</span>
<span class="line">        &quot;https://docker.chenby.cn&quot;,</span>
<span class="line">        &quot;http://mirror.azure.cn&quot;,</span>
<span class="line">        &quot;https://dockerpull.org&quot;,</span>
<span class="line">        &quot;https://dockerhub.icu&quot;,</span>
<span class="line">        &quot;https://hub.rat.dev&quot;</span>
<span class="line">    ]</span>
<span class="line">}</span>
<span class="line">EOF</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 重新加载配置</span></span>
<span class="line"><span class="token function">sudo</span> systemctl daemon-reload</span>
<span class="line"><span class="token comment"># 重启</span></span>
<span class="line"><span class="token function">sudo</span> systemctl restart <span class="token function">docker</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="centos7" tabindex="-1"><a class="header-anchor" href="#centos7"><span>centos7</span></a></h3><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">sudo</span> <span class="token function">cp</span> <span class="token parameter variable">-n</span> /lib/systemd/system/docker.service /etc/systemd/system/docker.service</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 替换命令</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;s|ExecStart=/usr/bin/docker daemon|ExecStart=/usr/bin/docker daemon --registry-mirror=https://mtkxslk5.mirror.aliyuncs.com|g&quot;</span> /etc/systemd/system/docker.service</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 还原</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;s|ExecStart=/usr/bin/docker daemon --registry-mirror=https://mtkxslk5.mirror.aliyuncs.com|ExecStart=/usr/bin/docker daemon|g&quot;</span> /etc/systemd/system/docker.service</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 替换命令</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;s|ExecStart=/usr/bin/dockerd|ExecStart=/usr/bin/dockerd --registry-mirror=https://mtkxslk5.mirror.aliyuncs.com|g&quot;</span> /etc/systemd/system/docker.service</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 还原</span></span>
<span class="line"><span class="token function">sudo</span> <span class="token function">sed</span> <span class="token parameter variable">-i</span> <span class="token string">&quot;s|ExecStart=/usr/bin/dockerd --registry-mirror=https://mtkxslk5.mirror.aliyuncs.com|ExecStart=/usr/bin/dockerd|g&quot;</span> /etc/systemd/system/docker.service</span>
<span class="line"></span>
<span class="line"><span class="token function">sudo</span> systemctl daemon-reload</span>
<span class="line"><span class="token function">sudo</span> <span class="token function">service</span> <span class="token function">docker</span> restart</span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="training-webapp" tabindex="-1"><a class="header-anchor" href="#training-webapp"><span>training/webapp</span></a></h3><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> pull training/webapp</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-P</span> training/webapp</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p80:5000</span> training/webapp</span>
<span class="line"><span class="token function">docker</span> attach container的id</span>
<span class="line"><span class="token function">docker</span> log container的id</span>
<span class="line"></span></code></pre></div><h3 id="portainer-portainer" tabindex="-1"><a class="header-anchor" href="#portainer-portainer"><span>portainer/portainer</span></a></h3><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> pull portainer/portainer</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">80</span>:9000 <span class="token parameter variable">-d</span> <span class="token parameter variable">--restart</span><span class="token operator">=</span>always <span class="token parameter variable">-v</span> /var/run/docker.sock:/var/run/docker.sock <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true portainer/portainer</span>
<span class="line"></span></code></pre></div><p>用户名：admin</p><p>密码：admin1234</p><h3 id="mysql" tabindex="-1"><a class="header-anchor" href="#mysql"><span>mysql</span></a></h3><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> pull mysql:5.7</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token parameter variable">--name</span> mysql-8 <span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token number">1024</span> mysql:8.0</span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> mysql /bin/bash</span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> mysql mysql <span class="token parameter variable">-uroot</span> <span class="token parameter variable">-p1024</span> <span class="token comment">#可以直接连接容器内的mysql数据库</span></span>
<span class="line">/etc/mysql/ <span class="token comment">#目录下存放的是mysql的配置文件，在给数据库建表之后，生效的配置文件时/etc/mysql/*.cnd来覆盖配置</span></span>
<span class="line">/var/lib/ <span class="token comment">#目录会出现三个带有mysql的目录，数据在/var/lib/mysql中</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment"># 使用docker search mysql会提示连接超时</span></span>
<span class="line"><span class="token function">docker</span> pull mysql:8.0</span>
<span class="line"></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span></span>
<span class="line"><span class="token parameter variable">--name</span> mysql-8 <span class="token punctuation">\</span></span>
<span class="line"><span class="token parameter variable">-p</span> <span class="token number">3306</span>:3306 <span class="token punctuation">\</span></span>
<span class="line"><span class="token parameter variable">-v</span> /var/local/mysql:/var/lib/mysql <span class="token punctuation">\</span></span>
<span class="line"><span class="token parameter variable">-e</span> <span class="token assign-left variable">MYSQL_ROOT_PASSWORD</span><span class="token operator">=</span><span class="token operator">&lt;</span>password<span class="token operator">&gt;</span> <span class="token punctuation">\</span></span>
<span class="line">mysql:8.0</span>
<span class="line"></span>
<span class="line"><span class="token comment"># 进入容器 </span></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> mysql-8 mysql <span class="token parameter variable">-uroot</span> -p<span class="token operator">&lt;</span>password<span class="token operator">&gt;</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>客户端连接提示：Public Key Retrieval is not allowed。解决方式：url后面添加参数?allowPublicKeyRetrieval=true</strong></p><p><strong>连接配置useSSL=true也可能导致连接失败。</strong></p><h3 id="镜像安装jdk" tabindex="-1"><a class="header-anchor" href="#镜像安装jdk"><span>镜像安装jdk</span></a></h3><p>将jdk安装包放在/usr/目录下</p><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker" data-title="docker"><pre><code><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> centos:7</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> jdk-8u121-linux-x64.tar.gz /usr/java/</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> JAVA_HOME=/usr/java/jdk1.8.0_121</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> JRE_HOME=<span class="token variable">$JAVA_HOME</span>/jre</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> CLASSPATH=.:<span class="token variable">$JAVA_HOME</span>/lib:<span class="token variable">$JRE_HOME</span>/lib</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> PATH=<span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$PATH</span></span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> java -version</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker" data-title="docker"><pre><code><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> centos:7</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> jdk-8u121-linux-x64.tar.gz /usr/java/</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> JAVA_HOME=/usr/java/jdk1.8.0_121</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> JRE_HOME=<span class="token variable">$JAVA_HOME</span>/jre</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> CLASSPATH=.:<span class="token variable">$JAVA_HOME</span>/lib:<span class="token variable">$JRE_HOME</span>/lib</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> PATH=<span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$PATH</span></span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;/bin/bash&quot;</span>]</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;java -version&quot;</span>]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="镜像启动java项目步骤" tabindex="-1"><a class="header-anchor" href="#镜像启动java项目步骤"><span>镜像启动Java项目步骤</span></a></h3><ol><li>通过Dockerfile创建镜像。</li><li>启动jar包的shell脚本。</li><li>创建操作镜像/容器的shell脚本。</li></ol><p>创建Dockerfile文件：</p><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker" data-title="docker"><pre><code><span class="line"><span class="token comment"># 从哪里拉去一个镜像</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">FROM</span> java:8</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 镜像创建者</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">MAINTAINER</span> oycm mingorg@163.com</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 将Dockerfile处的jar-name.jar文件复制到镜像中的server目录下</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> jar-name.jar /server/jar-name.jar</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> start.sh /server/start.sh</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 在构建镜像过程中执行的命令</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> [ <span class="token string">&quot;chmod&quot;</span>, <span class="token string">&quot;777&quot;</span>, <span class="token string">&quot;/server/start.sh&quot;</span> ]</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">RUN</span> echo <span class="token string">&quot;Asia/Shanghai&quot;</span> &gt; /etc/timezone</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 容器启动时默认执行的脚本</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;/server/start.sh&quot;</span>]</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> <span class="token operator">&lt;</span>iamge-name<span class="token operator">&gt;</span><span class="token punctuation">[</span>:tag<span class="token punctuation">]</span> <span class="token builtin class-name">.</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><p>启动jar包的start.sh shell脚本准备：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token shebang important">#!/bin/sh</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># 内存相关参数</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$MEM_OPTS</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">    <span class="token assign-left variable">SYS_PARAMS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$SYS_PARAMS</span> -Xms1024m -Xmx1024m -XX:NewRatio=1 -XX:MetaspaceSize=256m -XX:MaxMetaspaceSize=256m -XX:+AlwaysPreTouch -Xss256k&quot;</span></span>
<span class="line"><span class="token keyword">else</span></span>
<span class="line">    <span class="token assign-left variable">SYS_PARAMS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$SYS_PARAMS</span> <span class="token variable">$MEM_OPTS</span>&quot;</span></span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># GC相关参数</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$GC_OPTS</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">    <span class="token assign-left variable">SYS_PARAMS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$SYS_PARAMS</span> -XX:+UseConcMarkSweepGC -XX:CMSInitiatingOccupancyFraction=80 -XX:+UseCMSInitiatingOccupancyOnly&quot;</span></span>
<span class="line"><span class="token keyword">else</span></span>
<span class="line">    <span class="token assign-left variable">SYS_PARAMS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$SYS_PARAMS</span> <span class="token variable">$GC_OPTS</span>&quot;</span></span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$OPTIMIZE_OPTS</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">    <span class="token assign-left variable">SYS_PARAMS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$SYS_PARAMS</span> -XX:AutoBoxCacheMax=20000&quot;</span></span>
<span class="line"><span class="token keyword">else</span></span>
<span class="line">    <span class="token assign-left variable">SYS_PARAMS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$SYS_PARAMS</span> <span class="token variable">$OPTIMIZE_OPTS</span>&quot;</span></span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># GC错日志配置</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$SHOOTING_OPTS</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">    <span class="token assign-left variable">SYS_PARAMS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$SYS_PARAMS</span> -XX:-OmitStackTraceInFastThrow -XX:ErrorFile=errorGcLogs/hs_err_%p.log&quot;</span></span>
<span class="line"><span class="token keyword">else</span></span>
<span class="line">    <span class="token assign-left variable">SYS_PARAMS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$SYS_PARAMS</span> <span class="token variable">$SHOOTING_OPTS</span>&quot;</span></span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span>
<span class="line"><span class="token comment"># Spring激活配置文件</span></span>
<span class="line"><span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$SPRING_PROFILES_ACTIVE</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">    <span class="token assign-left variable">JAR_PARAMS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$JAR_PARAMS</span> --spring.profiles.active=own&quot;</span></span>
<span class="line"><span class="token keyword">else</span></span>
<span class="line">    <span class="token assign-left variable">JAR_PARAMS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$JAR_PARAMS</span> --spring.profiles.active=<span class="token variable">$SPRING_PROFILES_ACTIVE</span>&quot;</span></span>
<span class="line"><span class="token keyword">fi</span></span>
<span class="line"></span>
<span class="line"><span class="token assign-left variable">JAR_PARAMS</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$JAR_PARAMS</span>&quot;</span></span>
<span class="line"></span>
<span class="line"><span class="token builtin class-name">cd</span> /server</span>
<span class="line"><span class="token function">java</span> <span class="token parameter variable">-jar</span> <span class="token parameter variable">-server</span> <span class="token variable">$SYS_PARAMS</span> ./jar-name.jar <span class="token punctuation">\</span></span>
<span class="line">    <span class="token variable">$JAR_PARAMS</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>启动容器的shell脚本：</p><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token shebang important">#!/bin/sh</span></span>
<span class="line"><span class="token assign-left variable">APP_NAME</span><span class="token operator">=</span><span class="token string">&#39;contain-name&#39;</span></span>
<span class="line"><span class="token assign-left variable">SPRING_PROFILES_ACTIVE</span><span class="token operator">=</span><span class="token string">&#39;test&#39;</span></span>
<span class="line"><span class="token assign-left variable">APP_PATH</span><span class="token operator">=</span><span class="token string">&#39;/u01/oycm&#39;</span></span>
<span class="line"><span class="token assign-left variable">IMAGE_NAME</span><span class="token operator">=</span><span class="token string">&#39;iamge的远程地址&#39;</span></span>
<span class="line"><span class="token comment"># 远程debug使用</span></span>
<span class="line"><span class="token assign-left variable">SYS_PARAMS</span><span class="token operator">=</span>-agentlib:jdwp<span class="token operator">=</span>transport<span class="token operator">=</span>dt_socket,server<span class="token operator">=</span>y,suspend<span class="token operator">=</span>n,address<span class="token operator">=</span><span class="token number">5005</span></span>
<span class="line"></span>
<span class="line"><span class="token function-name function">check_if_process_is_running</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token assign-left variable">CONTAINER_ID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">docker</span> <span class="token function">ps</span><span class="token operator">|</span><span class="token function">grep</span> $<span class="token punctuation">{</span>APP_NAME<span class="token punctuation">}</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">&#39; &#39;</span>  <span class="token string">&#39;{print \$1}&#39;</span><span class="token variable">`</span></span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$CONTAINER_ID</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">    // <span class="token number">1</span> 表示false 没有查到容器id</span>
<span class="line">    <span class="token builtin class-name">return</span> <span class="token number">1</span></span>
<span class="line">  <span class="token keyword">fi</span></span>
<span class="line">    <span class="token builtin class-name">return</span> <span class="token number">0</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token function-name function">check_if_images_exist</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span></span>
<span class="line">  <span class="token comment"># 查询本地是有当前容器名称的镜像</span></span>
<span class="line">  <span class="token assign-left variable">IMAGE_ID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">docker</span> images<span class="token operator">|</span><span class="token function">grep</span> $<span class="token punctuation">{</span>APP_NAME<span class="token punctuation">}</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">&#39; &#39;</span>  <span class="token string">&#39;{print \$1}&#39;</span><span class="token variable">`</span></span></span>
<span class="line">  <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$IMAGE_ID</span>&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">    <span class="token builtin class-name">return</span> <span class="token number">1</span></span>
<span class="line">  <span class="token keyword">fi</span></span>
<span class="line">    <span class="token builtin class-name">return</span> <span class="token number">0</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token function-name function">restart_app</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">    <span class="token comment"># 停止容器</span></span>
<span class="line">    <span class="token comment"># 获取当前容器名称的容器id</span></span>
<span class="line">    <span class="token assign-left variable">DOCKER_PROCESS_ID</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-a</span> <span class="token parameter variable">--filter</span> <span class="token assign-left variable">name</span><span class="token operator">=</span>^/$<span class="token punctuation">{</span>APP_NAME<span class="token punctuation">}</span>$<span class="token operator">|</span><span class="token function">grep</span> $<span class="token punctuation">{</span>APP_NAME<span class="token punctuation">}</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">&#39; &#39;</span>  <span class="token string">&#39;{print $1}&#39;</span><span class="token operator">|</span><span class="token function">xargs</span> <span class="token parameter variable">-n1</span><span class="token variable">`</span></span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">&quot;<span class="token variable">$DOCKER_PROCESS_ID</span>&quot;</span> <span class="token operator">!=</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token keyword">then</span></span>
<span class="line">      <span class="token function">docker</span> stop <span class="token variable">${DOCKER_PROCESS_ID}</span></span>
<span class="line">      <span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token variable">${DOCKER_PROCESS_ID}</span></span>
<span class="line">    <span class="token keyword">fi</span></span>
<span class="line">    <span class="token comment"># 删除容器name</span></span>
<span class="line">    <span class="token function">docker</span> <span class="token function">rm</span> <span class="token variable"><span class="token variable">`</span><span class="token function">docker</span> <span class="token function">ps</span> <span class="token parameter variable">-aq</span> <span class="token parameter variable">--filter</span> <span class="token assign-left variable">name</span><span class="token operator">=</span>^/$<span class="token punctuation">{</span>APP_NAME<span class="token punctuation">}</span>$<span class="token variable">`</span></span></span>
<span class="line">    <span class="token comment"># 启动容器</span></span>
<span class="line">    <span class="token comment"># -e 配置环境变量SYS_PARAMS SPRING_PROFILES_ACTIVE JAR_PARAMS</span></span>
<span class="line">    <span class="token comment"># -v 挂载目录</span></span>
<span class="line">    <span class="token comment"># --network host</span></span>
<span class="line">    <span class="token function">docker</span> run <span class="token parameter variable">--name</span> <span class="token variable">${APP_NAME}</span> <span class="token parameter variable">-p</span> <span class="token number">9099</span>:9099 <span class="token parameter variable">-e</span> <span class="token assign-left variable">SYS_PARAMS</span><span class="token operator">=</span><span class="token variable">${SYS_PARAMS}</span> <span class="token parameter variable">-e</span> <span class="token assign-left variable">SPRING_PROFILES_ACTIVE</span><span class="token operator">=</span><span class="token variable">${SPRING_PROFILES_ACTIVE}</span> <span class="token parameter variable">-e</span> <span class="token assign-left variable">JAR_PARAMS</span><span class="token operator">=</span><span class="token string">&quot;--spring.config.additional-location=./config/application.yml&quot;</span> <span class="token parameter variable">-v</span> <span class="token variable">${APP_PATH}</span>/test:/server/test:rw <span class="token parameter variable">-v</span> /u01/html/wgq/portalCptStore:/server/wgqCpt:rw  <span class="token parameter variable">-v</span> <span class="token variable">${APP_PATH}</span>/config:/server/config:rw <span class="token parameter variable">-v</span> <span class="token variable">${APP_PATH}</span>/logs:/server/logs:rw <span class="token parameter variable">-v</span> <span class="token variable">${APP_PATH}</span>/runtime:/server/runtime:rw <span class="token parameter variable">--network</span> <span class="token function">host</span> <span class="token parameter variable">-d</span> <span class="token variable">${IMAGE_NAME}</span>:lastest</span>
<span class="line">    <span class="token keyword">if</span> check_if_process_is_running</span>
<span class="line">    <span class="token keyword">then</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token variable">${APP_NAME}</span> start success&quot;</span></span>
<span class="line">    <span class="token keyword">else</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token variable">${APP_NAME}</span> start fail&quot;</span></span>
<span class="line">    <span class="token keyword">fi</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">case</span> <span class="token string">&quot;<span class="token variable">$1</span>&quot;</span> <span class="token keyword">in</span></span>
<span class="line">  status<span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">if</span> check_if_process_is_running</span>
<span class="line">    <span class="token keyword">then</span></span>
<span class="line">      <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token variable">${APP_NAME}</span> is running&quot;</span></span>
<span class="line">    <span class="token keyword">else</span></span>
<span class="line">      <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token variable">${APP_NAME}</span> not running&quot;</span></span>
<span class="line">    <span class="token keyword">fi</span></span>
<span class="line">    <span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">  stop<span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment"># 停止容器</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token operator">!</span> check_if_process_is_running</span>
<span class="line">    <span class="token keyword">then</span></span>
<span class="line">      <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token variable">${APP_NAME}</span> has stopped&quot;</span></span>
<span class="line">    <span class="token keyword">else</span></span>
<span class="line">      <span class="token function">docker</span> <span class="token function">ps</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token variable">${APP_NAME}</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">&#39; &#39;</span>  <span class="token string">&#39;{print $1}&#39;</span><span class="token operator">|</span><span class="token function">xargs</span> <span class="token parameter variable">-n1</span> <span class="token function">docker</span> stop</span>
<span class="line">      <span class="token function">sleep</span> 2s</span>
<span class="line">      <span class="token keyword">if</span> <span class="token operator">!</span> check_if_process_is_running</span>
<span class="line">      <span class="token keyword">then</span></span>
<span class="line">        <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token variable">${APP_NAME}</span> stop success&quot;</span></span>
<span class="line">      <span class="token keyword">else</span></span>
<span class="line">        <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token variable">${APP_NAME}</span> stop fail&quot;</span></span>
<span class="line">      <span class="token keyword">fi</span></span>
<span class="line">    <span class="token keyword">fi</span></span>
<span class="line">    <span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">  start<span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment"># 启动容器</span></span>
<span class="line">    <span class="token keyword">if</span> check_if_process_is_running</span>
<span class="line">    <span class="token keyword">then</span></span>
<span class="line">      <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token variable">${APP_NAME}</span> has start&quot;</span></span>
<span class="line">    <span class="token keyword">else</span></span>
<span class="line">      <span class="token function">docker</span> start <span class="token variable">${APP_NAME}</span></span>
<span class="line">      <span class="token function">sleep</span> 2s</span>
<span class="line">      <span class="token keyword">if</span> check_if_process_is_running</span>
<span class="line">      <span class="token keyword">then</span></span>
<span class="line">        <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token variable">${APP_NAME}</span> start success&quot;</span></span>
<span class="line">      <span class="token keyword">else</span></span>
<span class="line">        <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;<span class="token variable">${APP_NAME}</span> start fail&quot;</span></span>
<span class="line">      <span class="token keyword">fi</span></span>
<span class="line">    <span class="token keyword">fi</span></span>
<span class="line">    <span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">  rollback<span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment"># 回滚容器 rollback 旧的镜像版本</span></span>
<span class="line">    <span class="token assign-left variable">ROLLBACK_TAG</span><span class="token operator">=</span><span class="token string">&quot;<span class="token variable">$2</span>&quot;</span></span>
<span class="line">    <span class="token function">docker</span> tag <span class="token variable">${IMAGE_NAME}</span><span class="token builtin class-name">:</span><span class="token variable">${ROLLBACK_TAG}</span> <span class="token variable">${IMAGE_NAME}</span>:lastest</span>
<span class="line">    restart_app</span>
<span class="line">    <span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">  reload<span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment"># 将一个tar文件镜像加载为最新的镜像</span></span>
<span class="line">    <span class="token function">docker</span> load <span class="token parameter variable">-i</span> ./<span class="token variable">${APP_NAME}</span>.tar</span>
<span class="line">    <span class="token assign-left variable">TAG</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">docker</span> image <span class="token function">ls</span> $<span class="token punctuation">{</span>IMAGE_NAME<span class="token punctuation">}</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">&#39; &#39;</span>  <span class="token string">&#39;{print $2}&#39;</span><span class="token operator">|</span><span class="token function">sed</span> <span class="token parameter variable">-n</span> 2p<span class="token variable">`</span></span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Your Reload TAG is <span class="token variable">${TAG}</span>&quot;</span></span>
<span class="line">    <span class="token function">docker</span> tag <span class="token variable">${IMAGE_NAME}</span><span class="token builtin class-name">:</span><span class="token variable">${TAG}</span> <span class="token variable">${IMAGE_NAME}</span>:lastest</span>
<span class="line">    restart_app</span>
<span class="line">    <span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">  remove<span class="token punctuation">)</span></span>
<span class="line">    <span class="token comment"># 停止容器</span></span>
<span class="line">    <span class="token function">docker</span> <span class="token function">ps</span><span class="token operator">|</span><span class="token function">grep</span> <span class="token variable">${APP_NAME}</span><span class="token operator">|</span><span class="token function">awk</span> <span class="token parameter variable">-F</span> <span class="token string">&#39; &#39;</span>  <span class="token string">&#39;{print $1}&#39;</span><span class="token operator">|</span><span class="token function">xargs</span> <span class="token parameter variable">-n1</span> <span class="token function">docker</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span></span>
<span class="line">    <span class="token keyword">if</span> <span class="token operator">!</span> check_if_images_exist</span>
<span class="line">    <span class="token keyword">then</span></span>
<span class="line">      <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;image remove success&quot;</span></span>
<span class="line">    <span class="token keyword">else</span></span>
<span class="line">      <span class="token builtin class-name">echo</span> <span class="token parameter variable">-e</span> <span class="token string">&quot;image remove fail&quot;</span></span>
<span class="line">    <span class="token keyword">fi</span></span>
<span class="line">    <span class="token punctuation">;</span><span class="token punctuation">;</span></span>
<span class="line">  *<span class="token punctuation">)</span></span>
<span class="line">    <span class="token builtin class-name">echo</span> <span class="token string">&quot;Usage: <span class="token variable">$0</span> {start|stop|rollback|restart|rebuild|remove}&quot;</span></span>
<span class="line">    <span class="token builtin class-name">exit</span> <span class="token number">1</span></span>
<span class="line"><span class="token keyword">esac</span></span>
<span class="line"><span class="token builtin class-name">exit</span> <span class="token number">0</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-docker line-numbers-mode" data-highlighter="prismjs" data-ext="docker" data-title="docker"><pre><code><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> centos:7</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> jdk-8u121-linux-x64.tar.gz /usr/java/</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> site-0.0.1-SNAPSHOT.jar /www/</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> JAVA_HOME=/usr/java/jdk1.8.0_121</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> JRE_HOME=<span class="token variable">$JAVA_HOME</span>/jre</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> CLASSPATH=.:<span class="token variable">$JAVA_HOME</span>/lib:<span class="token variable">$JRE_HOME</span>/lib</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENV</span> PATH=<span class="token variable">$JAVA_HOME</span>/bin:<span class="token variable">$PATH</span></span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 80</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;/bin/bash&quot;</span>]</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;java -version&quot;</span>]</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> site:1.0 <span class="token builtin class-name">.</span><span class="token comment">#构建项目镜像</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> site <span class="token parameter variable">-v</span> /www/:/www/ <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 site:1.0 <span class="token function">java</span> <span class="token parameter variable">-jar</span> site-0.0.1-SNAPSHOT.jar</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> site <span class="token parameter variable">-v</span> /www/:/www/ <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 site:1.0 /bin/bash</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> site <span class="token parameter variable">-v</span> /www/:/www/ <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 site:2.0 <span class="token parameter variable">-c</span> <span class="token function">java</span> <span class="token parameter variable">-jar</span> site-0.0.1-SNAPSHOT.jar</span>
<span class="line"></span>
<span class="line"></span></code></pre></div><div class="language-docker" data-highlighter="prismjs" data-ext="docker" data-title="docker"><pre><code><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> java:8</span></span>
<span class="line"></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> site-0.0.1-SNAPSHOT.jar /www/site-0.0.1-SNAPSHOT.jar</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /www/</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 80</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><div class="language-docker" data-highlighter="prismjs" data-ext="docker" data-title="docker"><pre><code><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> my-jdk:1.0</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> site-0.0.1-SNAPSHOT.jar /www/app.jar</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /www/</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 80</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;/bin/bash&quot;</span>,<span class="token string">&quot;-c&quot;</span>]</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;java -jar app.jar&quot;</span>]</span></span>
<span class="line"></span></code></pre></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-it</span> <span class="token parameter variable">--name</span> site <span class="token parameter variable">-v</span> /www/:/www/ <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 site:3.0</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> site <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 site:3.0 </span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> site <span class="token parameter variable">-v</span> /www/:/www/ <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 site:3.0</span>
<span class="line"></span></code></pre></div><p>需要注意的点</p><ol><li>java -jar jar包的路径，也就是容器的工作目录</li></ol><p>http://106.15.234.93/</p><blockquote><p>finally</p></blockquote><div class="language-docker" data-highlighter="prismjs" data-ext="docker" data-title="docker"><pre><code><span class="line"><span class="token instruction"><span class="token keyword">FROM</span> my-jdk:1.0</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ADD</span> site-0.0.1-SNAPSHOT.jar /www/app.jar</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">WORKDIR</span> /www/</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">EXPOSE</span> 80</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">ENTRYPOINT</span> [<span class="token string">&quot;/bin/bash&quot;</span>,<span class="token string">&quot;-c&quot;</span>]</span></span>
<span class="line"><span class="token instruction"><span class="token keyword">CMD</span> [<span class="token string">&quot;java -jar app.jar&quot;</span>]</span></span>
<span class="line"></span></code></pre></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> build <span class="token parameter variable">-t</span> site:1.0 <span class="token builtin class-name">.</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">--name</span> site <span class="token parameter variable">-p</span> <span class="token number">80</span>:80 site:1.0</span>
<span class="line"></span></code></pre></div><p>直接能运行成功。</p><h2 id="容器" tabindex="-1"><a class="header-anchor" href="#容器"><span>容器</span></a></h2><h3 id="_1、容器数据卷挂载" tabindex="-1"><a class="header-anchor" href="#_1、容器数据卷挂载"><span>1、容器数据卷挂载</span></a></h3><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-v</span> 容器内路径 镜像名 <span class="token comment">#匿名挂载</span></span>
<span class="line"><span class="token function">docker</span> volume <span class="token function">ls</span> <span class="token comment">#可以查看卷名</span></span>
<span class="line"><span class="token function">docker</span> volume inspect 卷名 <span class="token comment">#查看挂载信息，可以查看到默认挂载到宿主机的目录</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-itd</span> <span class="token parameter variable">-v</span> /root:/root centos <span class="token comment">#这种方式执行的挂载，通过上面的方式无法查到卷名</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-itd</span> <span class="token parameter variable">-v</span> /root:/root:ro centos <span class="token comment">#指定容器只能读文件，不能修改，也不能创建</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-itd</span> <span class="token parameter variable">-v</span> /root:/root:rw centos <span class="token comment">#容器能读能写</span></span>
<span class="line"></span></code></pre></div><blockquote><p>匿名挂载</p></blockquote><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-itd</span> <span class="token parameter variable">-v</span> /容器的路径 镜像名 <span class="token comment">#生成随机的VOLUME NAME，指定的本地挂载路径为</span></span>
<span class="line">/var/lib/docker/volumes/VOLUME NAME随机生成/_data</span>
<span class="line"><span class="token comment">#docker启动mysql时会自动执行匿名挂载将/var/lib/docker/volumes/匿名/_data:/var/lib/mysqlban&#39;d</span></span>
<span class="line"></span></code></pre></div><blockquote><p>具名挂载</p></blockquote><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-itd</span> <span class="token parameter variable">-v</span> 卷名/容器的路径 镜像名</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-itd</span> <span class="token parameter variable">-v</span> my-volume:/root centos <span class="token comment">#指定VOLUME NAME，本地挂载路径为</span></span>
<span class="line">/var/lib/docker/volumes/my-volume/_data</span>
<span class="line"></span></code></pre></div><blockquote><p>docker volume</p></blockquote><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment">#可以接的参数</span></span>
<span class="line">create <span class="token comment">#创建一个卷</span></span>
<span class="line">inspect 卷名 <span class="token comment">#展示一个或多个卷的信息</span></span>
<span class="line"><span class="token function">ls</span> <span class="token comment">#展示所有的卷</span></span>
<span class="line">prune <span class="token comment">#删除没有使用的卷，也会删除宿主机的文件</span></span>
<span class="line"><span class="token function">rm</span> 卷名 <span class="token comment">#删除一个或者多个卷(正在使用不能删除,容器存在也不能删除)</span></span>
<span class="line"></span></code></pre></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> <span class="token number">80</span>:8080 <span class="token parameter variable">-v</span> /root/webapps/web/:/usr/local/tomcat/webapps/web/ <span class="token parameter variable">-d</span> my-tomcat:latest</span>
<span class="line"><span class="token comment">#在/root/webapps/web/目录下新建一个index.jsp</span></span>
<span class="line"></span></code></pre></div><div class="language-jsp" data-highlighter="prismjs" data-ext="jsp" data-title="jsp"><pre><code><span class="line">&lt;html&gt;</span>
<span class="line">    &lt;body&gt;</span>
<span class="line">        &lt;h2&gt;Hello World!&lt;/h2&gt;</span>
<span class="line">        &lt;%=request.getRemoteAddr()%&gt;</span>
<span class="line">    &lt;/body&gt;</span>
<span class="line">&lt;/html&gt;</span>
<span class="line"></span></code></pre></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token comment">#启动之后就可以通过http://服务ip:端口号/web/index.jsp获取本机的ip地址。</span></span>
<span class="line"></span></code></pre></div><h3 id="_2、容器端口映射" tabindex="-1"><a class="header-anchor" href="#_2、容器端口映射"><span>2、容器端口映射</span></a></h3><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> 宿主机端口:容器端口 镜像名 <span class="token comment">#默认绑定tcp端口</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-p</span> 主机ip:主机端口:容器端口 镜像名 <span class="token comment">#容器内部端口绑定到指定的主机ip端口</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-P</span> 镜像名 <span class="token comment">#容器端口随机映射到主机端口</span></span>
<span class="line"></span>
<span class="line"></span></code></pre></div><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> port 容器id/容器name <span class="token comment">#查看端口映射情况</span></span>
<span class="line"></span></code></pre></div><h3 id="_3、端口网络" tabindex="-1"><a class="header-anchor" href="#_3、端口网络"><span>3、端口网络</span></a></h3><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> network <span class="token parameter variable">--help</span></span>
<span class="line">connect</span>
<span class="line">create</span>
<span class="line">disconnect</span>
<span class="line">inspect</span>
<span class="line"><span class="token function">ls</span></span>
<span class="line">prune</span>
<span class="line"><span class="token function">rm</span></span>
<span class="line"></span></code></pre></div><blockquote><p>创建网络</p></blockquote><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> network create <span class="token parameter variable">-d</span> bridge my-network <span class="token comment">#创建一个my-network的Docker网络，-d指定类型有bridge、overlag</span></span>
<span class="line"></span></code></pre></div><blockquote><p>启动容器配置网络</p></blockquote><div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-dit</span> <span class="token parameter variable">--name</span> test1 <span class="token parameter variable">--network</span> my-network my-centos:1.0 /bin/bash</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-dit</span> <span class="token parameter variable">--name</span> test2 <span class="token parameter variable">--network</span> my-network my-centos:1.0 /bin/bash</span>
<span class="line"><span class="token comment">####################################################</span></span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-dit</span> <span class="token parameter variable">--name</span> test3 my-centos:1.0 /bin/bash</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-dit</span> <span class="token parameter variable">--name</span> test4 my-centos:1.0 /bin/bash</span>
<span class="line"><span class="token comment">####################################################</span></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> test1 /bin/bash</span>
<span class="line"><span class="token function">ping</span> test1</span>
<span class="line"><span class="token function">ping</span> test2</span>
<span class="line"><span class="token comment">#都能够连接成功</span></span>
<span class="line"><span class="token comment">####################################################</span></span>
<span class="line"><span class="token function">docker</span> <span class="token builtin class-name">exec</span> <span class="token parameter variable">-it</span> test3 /bin/bash</span>
<span class="line"><span class="token function">ping</span> test3 <span class="token comment">#Name or Service not known</span></span>
<span class="line"><span class="token function">ping</span> <span class="token number">127.0</span>.*.* <span class="token comment">#第一个*是0-256，第二个是不能同时为0，能ping成功</span></span>
<span class="line"></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_4、dns" tabindex="-1"><a class="header-anchor" href="#_4、dns"><span>4、DNS</span></a></h3><p>在/etc/docker/目录下新建一个daemon.json,设置全部容器的DNS</p><div class="language-json" data-highlighter="prismjs" data-ext="json" data-title="json"><pre><code><span class="line"><span class="token punctuation">{</span></span>
<span class="line">  <span class="token property">&quot;dns&quot;</span> <span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">    <span class="token string">&quot;114.114.114.114&quot;</span><span class="token punctuation">,</span></span>
<span class="line">    <span class="token string">&quot;8.8.8.8&quot;</span></span>
<span class="line">  <span class="token punctuation">]</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre></div><p>需要重启docker引擎才能生效</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-itd</span> centos <span class="token function">cat</span> etc/resolv.conf <span class="token comment">#输出容器的DNS信息</span></span>
<span class="line"></span></code></pre></div><p>查看linuxDNS信息</p><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">cat</span> /etc/resolv.conf</span>
<span class="line"></span></code></pre></div><blockquote><p>手动配置容器配置</p></blockquote><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> run <span class="token parameter variable">-itd</span> <span class="token parameter variable">-h</span> 容器主机名 <span class="token parameter variable">--dns</span><span class="token operator">=</span>ip --dns-search<span class="token operator">=</span>搜索域 centos</span>
<span class="line"><span class="token function">docker</span> run <span class="token parameter variable">--name</span> dns <span class="token parameter variable">-itd</span> <span class="token parameter variable">--rm</span> <span class="token parameter variable">-h</span> testhost <span class="token parameter variable">--dns</span><span class="token operator">=</span><span class="token number">114.114</span>.114.114 --dns-search<span class="token operator">=</span>hello.com my-centos:1.0 </span>
<span class="line"><span class="token parameter variable">--name</span> dns <span class="token comment">#给容器命名为dns</span></span>
<span class="line"><span class="token parameter variable">--rm</span> <span class="token comment">#容器停止之后删除容器</span></span>
<span class="line"><span class="token parameter variable">-h</span> testhost/--hostname<span class="token operator">=</span>hostname <span class="token comment">#设置容器的主机名为testhost，写入到容器的/etc/hostname和/etc/hosts</span></span>
<span class="line"><span class="token parameter variable">--dns</span> <span class="token comment">#添加DNS服务器到容器的/etc/resolv.conf中，写入为nameserver 114.114.114.114</span></span>
<span class="line">--dns-search hello.com <span class="token comment">#设定容器的搜索域，写入/etc/resolv.conf文件中，写入为 search hello.com</span></span>
<span class="line"></span></code></pre></div><p>容器启动没有配置-dns，--dns-search，docker默认配置/etc/resolve.conf的配置。</p><h2 id="docker仓库" tabindex="-1"><a class="header-anchor" href="#docker仓库"><span>Docker仓库</span></a></h2><blockquote><p>login</p></blockquote><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> login <span class="token parameter variable">-u</span> username <span class="token comment">#回车输入密码</span></span>
<span class="line">WARNING<span class="token operator">!</span> Your password will be stored unencrypted <span class="token keyword">in</span> /root/.docker/config.json.</span>
<span class="line">Configure a credential helper to remove this warning. See</span>
<span class="line">https://docs.docker.com/engine/reference/commandline/login/<span class="token comment">#credentials-store</span></span>
<span class="line"></span>
<span class="line">Login Succeeded</span>
<span class="line"></span></code></pre></div><p>网站：https://docs.docker.com/engine/reference/commandline/login/#credentials-store查看凭证免验证</p><blockquote><p>推送镜像到自己的Docker Hub</p></blockquote><div class="language-bash" data-highlighter="prismjs" data-ext="sh" data-title="sh"><pre><code><span class="line"><span class="token function">docker</span> tag my-tomcat:latest oycmstart/tomcat:1.0 <span class="token comment">#首先修改镜像名为DockerHub的账号名/名字:版本号</span></span>
<span class="line"><span class="token function">docker</span> push oycmstart</span>
<span class="line"></span></code></pre></div></div><!--[--><!--]--></div><footer class="vp-page-meta"><div class="vp-meta-item edit-link"><a class="auto-link external-link label" href="http://github.com/FirstBloodForJava/vuepress-blog/edit/main/docs/build/Docker.md" aria-label="在 GitHub 上编辑此页" rel="noopener noreferrer" target="_blank"><!--[--><svg class="edit-icon" viewbox="0 0 1024 1024"><g fill="currentColor"><path d="M430.818 653.65a60.46 60.46 0 0 1-50.96-93.281l71.69-114.012 7.773-10.365L816.038 80.138A60.46 60.46 0 0 1 859.225 62a60.46 60.46 0 0 1 43.186 18.138l43.186 43.186a60.46 60.46 0 0 1 0 86.373L588.879 565.55l-8.637 8.637-117.466 68.234a60.46 60.46 0 0 1-31.958 11.229z"></path><path d="M728.802 962H252.891A190.883 190.883 0 0 1 62.008 771.98V296.934a190.883 190.883 0 0 1 190.883-192.61h267.754a60.46 60.46 0 0 1 0 120.92H252.891a69.962 69.962 0 0 0-69.098 69.099V771.98a69.962 69.962 0 0 0 69.098 69.098h475.911A69.962 69.962 0 0 0 797.9 771.98V503.363a60.46 60.46 0 1 1 120.922 0V771.98A190.883 190.883 0 0 1 728.802 962z"></path></g></svg><!--]-->在 GitHub 上编辑此页<!----></a></div><div class="vp-meta-item git-info"><div class="vp-meta-item last-updated"><span class="meta-item-label">上次更新: </span><!----></div><div class="vp-meta-item contributors"><span class="meta-item-label">贡献者: </span><span class="meta-item-info"><!--[--><!--[--><span class="contributor" title="email: 1164864987@qq.com">oycm</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" title="email: mingorg@163.com">ouyangcm</span><!----><!--]--><!--]--></span></div></div></footer><!----><!--[--><!--]--></main><!--]--></div><!--[--><!----><!--]--><!--]--></div>
    <script type="module" src="/vuepress-blog/assets/app-DO9Fsueg.js" defer></script>
  </body>
</html>
